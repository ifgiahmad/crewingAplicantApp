(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{68390:function(e,a,t){Promise.resolve().then(t.bind(t,43337)),Promise.resolve().then(t.t.bind(t,38173,23))},43337:function(e,a,t){"use strict";t.d(a,{default:function(){return h}});var l=t(57437),r=t(72082),s=t(2265),i=e=>{let{isOpen:a,onClose:t,onOke:r,title:i,message:n,position:o,success:d}=e;return((0,s.useState)(!1),console.log(o),a)?(0,l.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black opacity-50"}),(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 z-10 ",children:[(0,l.jsx)("h2",{className:"text-lg font-bold mb-4",children:i}),(0,l.jsx)("p",{className:"mb-1",children:n}),d?(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"mb-3",children:["Saudara melamar untuk posisi ",o]}),(0,l.jsx)("p",{className:"mb-3",children:"Klik button Oke untuk menyelesaikan pendaftaran"}),(0,l.jsx)("div",{className:"row-",children:(0,l.jsx)("button",{onClick:r,className:"bg-green-900 text-white py-2 px-4 rounded hover:bg-green-700 flex justify-end",children:"Oke"})})]}):(0,l.jsx)("button",{onClick:t,className:"bg-red-500 text-white py-2 px-4 rounded hover:bg-red-300 flex justify-end",children:"Close"})]})]}):null},n=()=>(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-blue-500"})}),o=t(41579),d=t(94901),c=t(38351),u=t(27776),x=t(16463),m=t(64379),N=t.n(m),h=()=>{let[e,a]=(0,s.useState)(""),[t,m]=(0,s.useState)(!1),[h,A]=(0,s.useState)(""),[p,b]=(0,s.useState)(""),[g,I]=(0,s.useState)(""),[T,f]=(0,s.useState)(!1),[j,v]=(0,s.useState)(""),[E,K]=(0,s.useState)(null),[y,k]=(0,s.useState)(null),[L,S]=(0,s.useState)(!1),[O,w]=(0,s.useState)(""),[R,H]=(0,s.useState)(""),[C,P]=(0,s.useState)(""),[G,M]=(0,s.useState)(!0),[U,F]=(0,s.useState)(!1),[_,V]=(0,s.useState)(!1),[D,J]=(0,s.useState)(""),[B,Z]=(0,s.useState)(""),[q,z]=(0,s.useState)(!0),Y=(0,x.useRouter)(),W=async e=>{let a=Array.from(e.entries()),t={};for(let[e,l]of a)"string"==typeof l?"Email"!==e&&"Aktif"!==e?t[e]=l.toUpperCase():"Aktif"===e?t[e]=!0:t[e]=l:l instanceof File&&(t[e]=l);if(16!==D.length||10!==B.length)u.A.error("Panjang KTP Harus 16 dan Panjang Kode Pelaut harus 10");else{F(!0);let e=await o.Z.getCrewRekrutmenListNonAuth("ONBOARD",t.SilverCode,t.NamaLengkap,t.TanggalLahir,t.NIK),a=await o.Z.getCrewRekrutmenListNonAuth("ONBOARD_EXISTING",t.SilverCode,t.NamaLengkap,t.TanggalLahir,t.NIK),l=await o.Z.getCrewRekrutmenListNonAuth("ONBOARD_RESIGN",t.SilverCode,t.NamaLengkap,t.TanggalLahir,t.NIK);if((await o.Z.getCrewRekrutmenListNonAuth("BLACKLIST",t.SilverCode,t.NamaLengkap,t.TanggalLahir,t.NIK)).length>0)throw Error("Anda Sudah Di Blacklist Dari LMI Group");if(e.length>0&&a.length>0&&0==l.length)throw Error("Anda sudah pernah menjadi Crew di LMI Group dan status anda di database kami masih Aktif, Silahkan hubungi Tim Crewing Rekrutmen LMI");try{let e=await o.Z.postApplicant(t,d.a9.API_APPLICANT_SAVE_APPLICANT_NON_AUTH);if("OK"===e.data.status){let a=new Date().toISOString(),t=new FormData;t.append("DocumentName","CV"),t.append("FileCategory","CV"),t.append("RekrutmenId",e.data.returnId),t.append("DocumentDate",a);let l=Object.fromEntries(t.entries()),r=await o.Z.postNonAuth(l,d.a9.API_APPLICANT_SAVE_OPTIONAL_FILE_NON_AUTH);if("OK"===r.data.status){if(!E)return;let a=new FormData;a.append("file",E),a.append("optId",r.data.returnId),a.append("relasiId",e.data.returnId),a.append("menuForm","REKRUTMEN");let t=await o.Z.postDocNonAuth(a,d.a9.API_APPLICANT_SAVE_OPTIONAL_FILE_DOC_NON_AUTH);"OK"===t.data.status&&N().fire({icon:"success",title:"Berhasil menyimpan data",confirmButtonText:"Selesai",text:"Terima kasih, Kami akan segera memproses lamaran sudara dan memberikan informasi lebih lanjut. Klik Selesai untuk menyelesaikan pendaftaran."}).then(e=>{e.isConfirmed&&Y.push("https://www.google.com/")})}}}catch(e){console.error("Error submitting form:",e),w("Error"),H("Failed to save."),M(!1)}finally{F(!1)}}};return(0,l.jsxs)("div",{className:" flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[U&&(0,l.jsx)("div",{children:(0,l.jsx)(n,{})}),(0,l.jsxs)("div",{className:" bg-white p-8 rounded-md shadow-md overflow-y-auto",style:{maxHeight:"80vh"},children:[(0,l.jsx)("div",{className:" bg-green-800 mb-2 p-2 rounded-md shadow-md text-center text-lg text-white uppercase",children:"Form Pendaftaran Crew"}),(0,l.jsx)("form",{action:W,children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{htmlFor:"NomorKTP",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),"Nomor KTP"]}),(0,l.jsx)("input",{type:"number",name:"NomorKTP",id:"NomorKTP",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"Contoh: 3211xxxxxxxxxxxx (panjang 16 karakter)",onChange:e=>{e.target.value.length<=16&&(J(e.target.value),z(!0))},value:D,required:!0}),(0,l.jsx)("input",{type:"hidden",name:"Aktif",value:"true"})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{htmlFor:"NamaLengkap",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),"Nama Lengkap"]}),(0,l.jsx)("input",{type:"text",name:"NamaLengkap",id:"NamaLengkap",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 uppercase",placeholder:"Nama Lengkap",required:!0})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{htmlFor:"NoTeleon",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),"No Telepon"]}),(0,l.jsx)("input",{type:"text",pattern:"[0-9]*",name:"NoTelepon",id:"NoTelepon",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"Contoh: 08xxxxxxxx",required:!0})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{htmlFor:"Email",className:"block text-xs font-small text-gray-900 mb-1",children:"Email"}),(0,l.jsx)("input",{type:"email",name:"Email",id:"Email",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"Contoh: xxxx@domain.com"})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{htmlFor:"Tempat Lahir",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),"Tempat Lahir"]}),(0,l.jsx)("input",{type:"text",name:"TempatLahir",id:"TempatLahir",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 uppercase",placeholder:"Tempat Lahir",required:!0})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{htmlFor:"TanggalLahir",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),"Tanggal Lahir"]}),(0,l.jsx)("input",{type:"date",name:"TanggalLahir",id:"TanggalLahir",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"Klik icon kalender untuk pilih tanggal lahir",required:!0})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{htmlFor:"Domisili",className:"block text-xs font-small text-gray-900 mb-1",children:"Domisili"}),(0,l.jsx)("input",{type:"text",name:"Domisili",id:"Domisili",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 uppercase",placeholder:"Kota saat ini"})]})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{htmlFor:"SilverCode",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),"Kode Pelaut"]}),(0,l.jsx)("input",{type:"number",name:"SilverCode",id:"SilverCode",value:B,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"Kode pelaut (panjang 10 Karakter) ",required:!0,onChange:e=>{e.target.value.length<=10&&Z(e.target.value)}})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{htmlFor:"JenisKapalTerakhir",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),"Jenis Kapal Terakhir"]}),(0,l.jsxs)("select",{name:"JenisKapalTerakhir",id:"JenisKapalTerakhir",value:e,onChange:e=>{let t=e.target.value;a(t),m("OTHERS"==t),"OTHERS"!==t&&A(t)},className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 rounded",required:!0,children:[(0,l.jsx)("option",{value:"",children:"--Pilih Jenis Kapal Terakhir--"}),(0,l.jsx)("option",{value:"BULK CARRIER",children:"BULK CARRIER"}),(0,l.jsx)("option",{value:"TUGBOAT",children:"TUGBOAT"}),(0,l.jsx)("option",{value:"TANKER",children:"TANKER"}),(0,l.jsx)("option",{value:"PASSENGER",children:"PASSENGER"}),(0,l.jsx)("option",{value:"CARGO",children:"CARGO"}),(0,l.jsx)("option",{value:"SPOB",children:"SPOB"}),(0,l.jsx)("option",{value:"CONTAINER",children:"CONTAINER"}),(0,l.jsx)("option",{value:"KKM",children:"KKM"}),(0,l.jsx)("option",{value:"RORO",children:"RORO"}),(0,l.jsx)("option",{value:"FLOATING CRANE",children:"FLOATING CRANE"}),(0,l.jsx)("option",{value:"OTHERS",children:"OTHERS"})]})]}),t&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)("input",{type:"text",name:"JenisKapalTerakhir",id:"JenisKapalTerakhir",value:h,onChange:e=>{A(e.target.value.toUpperCase())},className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 uppercase",placeholder:"Masukan Jenis Kapal Terakhir",required:!0})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(r.Z,{elementId:"JabatanTerakhir",labelName:"Jabatan Terakhir"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(r.Z,{elementId:"AppliedPosition",labelName:"Posisi Yang Ingin Dilamar"})}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{htmlFor:"Pendidikan",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),"Sertifikat"]}),(0,l.jsxs)("select",{name:"Pendidikan",id:"Pendidikan",value:g,onChange:e=>{let a=e.target.value;I(a),f("OTHERS"==a),"OTHERS"!==a&&v(a)},className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0,children:[(0,l.jsx)("option",{value:"",children:"-- Sertifikat Pelaut Yang Anda Miliki --"}),(0,l.jsx)("option",{value:"AHLI NAUTIKA TINGKAT I",children:"AHLI NAUTIKA TINGKAT I"}),(0,l.jsx)("option",{value:"AHLI NAUTIKA TINGKAT II",children:"AHLI NAUTIKA TINGKAT II"}),(0,l.jsx)("option",{value:"AHLI NAUTIKA TINGKAT III - MANAJEMEN",children:"AHLI NAUTIKA TINGKAT III - MANAJEMEN"}),(0,l.jsx)("option",{value:"AHLI NAUTIKA TINGKAT IV - MANAJEMEN",children:"AHLI NAUTIKA TINGKAT IV - MANAJEMEN"}),(0,l.jsx)("option",{value:"AHLI NAUTIKA TINGKAT V - MANAJEMEN",children:"AHLI NAUTIKA TINGKAT V - MANAJEMEN"}),(0,l.jsx)("option",{value:"AHLI NAUTIKA TINGKAT III - OPERASIONAL",children:"AHLI NAUTIKA TINGKAT III - OPERASIONAL"}),(0,l.jsx)("option",{value:"AHLI NAUTIKA TINGKAT IV - OPERASIONAL",children:"AHLI NAUTIKA TINGKAT IV - OPERASIONAL"}),(0,l.jsx)("option",{value:"AHLI NAUTIKA TINGKAT V - OPERASIONAL",children:"AHLI NAUTIKA TINGKAT V - OPERASIONAL"}),(0,l.jsx)("option",{value:"AHLI TEHNIKA TINGKAT I",children:"AHLI TEHNIKA TINGKAT I"}),(0,l.jsx)("option",{value:"AHLI TEHNIKA TINGKAT II",children:"AHLI TEHNIKA TINGKAT II"}),(0,l.jsx)("option",{value:"AHLI TEHNIKA TINGKAT III - MANAJEMEN",children:"AHLI TEHNIKA TINGKAT III - MANAJEMEN"}),(0,l.jsx)("option",{value:"AHLI TEHNIKA TINGKAT IV - MANAJEMEN",children:"AHLI TEHNIKA TINGKAT IV - MANAJEMEN"}),(0,l.jsx)("option",{value:"AHLI TEHNIKA TINGKAT V - MANAJEMEN",children:"AHLI TEHNIKA TINGKAT V - MANAJEMEN"}),(0,l.jsx)("option",{value:"AHLI TEHNIKA TINGKAT III - OPERASIONAL",children:"AHLI TEHNIKA TINGKAT III - OPERASIONAL"}),(0,l.jsx)("option",{value:"AHLI TEHNIKA TINGKAT IV - OPERASIONAL",children:"AHLI TEHNIKA TINGKAT IV - OPERASIONAL"}),(0,l.jsx)("option",{value:"AHLI TEHNIKA TINGKAT V - OPERASIONAL",children:"AHLI TEHNIKA TINGKAT V - OPERASIONAL"}),(0,l.jsx)("option",{value:"RATING AS ABLE DECK",children:"RATING AS ABLE DECK"}),(0,l.jsx)("option",{value:"RATING AS ABLE SEAFARER ENGINE",children:"RATING AS ABLE SEAFARER ENGINE"}),(0,l.jsx)("option",{value:"OTHERS",children:"OTHERS"})]})]}),T&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)("input",{type:"text",name:"Pendidikan",id:"Pendidikan",value:j,onChange:e=>{v(e.target.value.toUpperCase())},className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 uppercase",placeholder:"Masukan Sertifikat Kompetensi",required:!0})}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("sup",{children:"* "}),"CV"]}),(0,l.jsx)("input",{type:"text",name:"fileName",value:p,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",readOnly:!0,placeholder:"Klik button Upload File untuk upload surat sign off (format file .pdf)"})]}),(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{if(e.target.files&&e.target.files.length>0){let a=e.target.files[0];a.size>2e6?(k("File size should not exceed ".concat(1.9073486328125," MB.")),K(null)):(K(a),b(a.name),k(null))}},className:"hidden",id:"pdf-upload",name:"fileDoc"}),(0,l.jsx)("label",{htmlFor:"pdf-upload",className:"mr-1 px-3 py-1 bg-green-700 text-white rounded cursor-pointer",children:"Upload File"}),(0,l.jsx)("input",{type:"button",onClick:()=>{V(!0)},id:"pdf-view"}),(0,l.jsx)("label",{htmlFor:"pdf-view",className:"ml-1 px-3 py-1 bg-yellow-600 text-white rounded cursor-pointer",children:"View File"})]}),(0,l.jsx)("div",{className:"row-auto",children:(0,l.jsx)("button",{type:"submit",className:"text-white bg-green-900 hover:bg-green-800 font-medium rounded text-xs w-full px-5 py-3 text-center",disabled:U,children:"Apply"})})]})]})})]}),(0,l.jsx)(i,{isOpen:L,onClose:()=>{S(!1)},onOke:()=>{S(!1),Y.refresh()},title:O,message:R,position:C,success:G}),_&&(0,l.jsx)(c.Z,{file:E,fileLink:"",onClose:()=>V(!1)})]})}},72082:function(e,a,t){"use strict";var l=t(57437),r=t(2265),s=t(47232),i=t(41579);a.Z=e=>{let{elementId:a,labelName:t}=e,[n,o]=(0,r.useState)([]),[d,c]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async()=>{try{let e=(await i.Z.getMasterByTypeNonAuth("CREW_LVL")).map(e=>new s.Z(e.id,e.kodeMaster,e.tipeMaster,e.textMaster,e.urutan,e.createdBy,e.createdTime,e.modifiedBy,e.modifiedTime,e.aktif));o(e),console.log()}catch(e){console.error("Error fetching cities:",e)}})()},[]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:a,className:"block text-xs font-small text-gray-900 mb-1",children:[(0,l.jsx)("sup",{children:"* "}),t]}),(0,l.jsxs)("select",{id:a,name:a,value:d||"",onChange:e=>{c(e.target.value)},className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 rounded",children:[(0,l.jsxs)("option",{value:"",children:[" --Pilih ",t," --"]}),n.map(e=>(0,l.jsx)("option",{value:e.textMaster,children:e.textMaster},e.id))]})]})}},38351:function(e,a,t){"use strict";var l=t(57437),r=t(70219),s=t(48572),i=t(2265);a.Z=e=>{let{file:a,fileLink:t,onClose:n}=e,[o,d]=(0,i.useState)(new s.Z),[c,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{if(a){let e=URL.createObjectURL(a);return u(e),()=>URL.revokeObjectURL(e)}{let e=(0,r.Z)();return(async()=>{try{if(!t)return;t=t.replaceAll("\\","/");let a=(null==e?void 0:e.substring(0,e.length-1))+t;u(a)}catch(e){console.error("Failed to create object URL:",e)}})(),()=>{c&&(console.log("Fetching PDF"),URL.revokeObjectURL(c))}}},[]),(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:(0,l.jsxs)("div",{className:"bg-white p-4 rounded shadow-lg",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"PDF Preview"}),(0,l.jsx)("button",{onClick:n,className:"text-red-500",children:"Close"})]}),c&&(0,l.jsx)("iframe",{src:c,width:"600",height:"400",className:"mt-4"})]})})}}}]);