"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{34591:function(e,a,t){t.d(a,{default:function(){return U}});var r=t(57437),s=t(2265),l=t(60530),n=t(47232),d=t(41579);class i{constructor(e=0,a="",t="",r=new Date,s=0,l="",n=new Date,d="",i=new Date){this.id=e,this.bank=a,this.currency=t,this.currencyDate=r,this.currencyRate=s,this.createdBy=l,this.createdDate=n,this.updatedBy=d,this.updatedDate=i}}var o=e=>{let{elementId:a,labelValue:t,constantApi:l,required:o,defaultValue:c,onSelect:m}=e,[u,x]=(0,s.useState)([]),[b,h]=(0,s.useState)([]),[g,p]=(0,s.useState)(""),[y,f]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{if("currency"===a){if(N(!0),0===b.length){let e=(await d.Z.getMasterCurrencyNonAuth()).map(e=>new i(e.id,e.bank,e.currency,e.currencyDate,e.currencyRate,e.createdBy,e.createdDate,e.updatedBy,e.updatedDate));h(e)}}else if(f(!0),0===u.length){let e=(await d.Z.getMasterByTypeNonAuth(l)).map(e=>new n.Z(e.id,e.kodeMaster,e.tipeMaster,e.textMaster));x(e)}}catch(e){console.error("Error fetching data:",e)}})()},[l,b.length,a,u]);let k=e=>{p(e.target.value),m(e.target.value)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:a,className:"block text-xs font-small text-gray-900 mb-1",children:[o?(0,r.jsx)("sup",{children:"* "}):(0,r.jsx)(r.Fragment,{}),t]}),y&&(0,r.jsxs)("select",{name:a,id:a,value:g||c,onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 rounded",required:o,children:[(0,r.jsxs)("option",{value:"",children:["--",t,"--"]}),u.map(e=>(0,r.jsx)("option",{value:e.textMaster,children:e.textMaster},e.id))]}),j&&(0,r.jsxs)("select",{name:a,id:a,value:g||c,onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 rounded",required:o,children:[(0,r.jsxs)("option",{value:"",children:["--",t,"--"]}),b.map(e=>(0,r.jsx)("option",{value:e.currency,children:e.currency},e.id))]})]})},c=t(94901),m=t(36463),u=t.n(m),x=t(70219),b=t(27776),h=t(64379),g=t.n(h),p=e=>{let{onNext:a,rekrutmenId:t}=e,[n,i]=(0,s.useState)(new l.Z),[m,h]=(0,s.useState)({}),[p,y]=(0,s.useState)(null),[f,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{async function e(e){try{let e=await d.Z.getDataIdNonAuth(t,c.a9.API_REKRUTMEN_GET_NON_AUTH);i(e.data)}catch(e){b.A.error("Gagal mengambil data rekrutmen"),console.error(e)}}t>0&&0===n.id&&e(t),console.log(n);let a=(0,x.Z)();if(n.fileLink&&null===p){let e=(null==a?void 0:a.substring(0,a.length-1))+n.fileLink.replaceAll("\\","/");console.log(e),y(e)}if(n.fileLinkKTP&&null===f){let e=(null==a?void 0:a.substring(0,a.length-1))+n.fileLinkKTP.replaceAll("\\","/");console.log(e),j(e)}},[n,t,p,f]);let N=(e,a)=>{i(t=>({...t,[e]:a}))},k=e=>{let{name:a,value:t,type:r,checked:s,files:l}=e.target;i(e=>{if("tanggalLahir"===a||"tglLahirPasangan"===a||"tglLahirAnak1"===a||"tglLahirAnak2"===a||"tglLAhirAnak3"===a)return{...e,[a]:new Date(t)};if(("fotoKTP"===a||"fotoDiri"===a)&&l){let t=l[0];if(t.size>512e3)return h(e=>({...e,foto:"Ukuran file maksimal adalah 500KB"})),e;{let r=new FileReader;return"fotoDiri"===a?r.onloadend=()=>{y(r.result)}:r.onloadend=()=>{j(r.result)},r.readAsDataURL(t),h(e=>({...e,foto:void 0})),{...e,[a]:t}}}return{...e,[a]:t}})},w=(e,a)=>{i(t=>({...t,[e]:a}))},v=async()=>{try{let e=await d.Z.postNonAuth(n,c.a9.API_REKRUTMEN_SAVE_NON_AUTH);if(e.status){if(t=e.data.returnId,null!=n.fotoDiri||null!=n.fotoKTP){let t=!0;if(null!=n.fotoDiri){let a=new FormData;a.append("file",n.fotoDiri),a.append("Id",e.data.returnId),a.append("menu","REKRUTMEN"),a.append("type","PHOTO");let r=Object.fromEntries(a.entries());(await d.Z.postFotoNonAuth(r,c.a9.API_REKRUTMEN_SAVEPHOTO_NON_AUTH)).data.status||(t=!1)}if(t){if(n.fotoKTP){let t=new FormData;t.append("file",n.fotoKTP),t.append("Id",e.data.returnId),t.append("menu","REKRUTMEN"),t.append("type","KTP");let r=Object.fromEntries(t.entries());(await d.Z.postFotoNonAuth(r,c.a9.API_REKRUTMEN_SAVEPHOTO_NON_AUTH)).data.status?a(e.data.returnId):g().fire({icon:"error",title:"Oops...",text:"Gagal Upload KTP"})}else a(e.data.returnId)}else g().fire({icon:"error",title:"Oops...",text:"Gagal Upload Foto Diri"})}else""!=n.fileLink&&""!=n.fileLinkKTP?a(e.data.returnId):b.A.error("Foto diri dan KTP wajib diupload")}else g().fire({icon:"error",title:"Oops...",text:"Gagal Menyimpan Data"})}catch(e){g().fire({icon:"error",title:"Oops...",text:"Server Error"}),console.error("Error saving data:",e)}};return(0,r.jsx)("div",{children:(0,r.jsxs)("form",{action:v,children:[(0,r.jsxs)("div",{className:"container mx-auto p-4 min-h-screen bg-gray-100 flex flex-col overflow-y-auto",style:{maxHeight:"80vh"},children:[(0,r.jsx)("div",{className:"flex-1 bg-white flex items-center mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaLengkap",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Nama Lengkap"]}),(0,r.jsx)("input",{type:"text",name:"namaLengkap",id:"namaLengkap",value:n.namaLengkap||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"tempatLahir",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Tempat Lahir"]}),(0,r.jsx)("input",{type:"text",name:"tempatLahir",id:"tempatLahir",value:n.tempatLahir||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"tanggalLahir",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Tanggal Lahir"]}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:n.tanggalLahir,onChange:e=>{w("tanggalLahir",e)},dateFormat:"dd/MM/yyyy",required:!0})})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"jenisKelamin",labelValue:"Jenis Kelamin",constantApi:c.a9.MASTER_TYPE_GENDER,required:!0,defaultValue:n.jenisKelamin||"",onSelect:e=>{N("jenisKelamin",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Email"]}),(0,r.jsx)("input",{type:"email",name:"email",id:"email",onChange:k,value:n.email||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"noTelepon",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Telp. / Hp."]}),(0,r.jsx)("input",{type:"number",name:"noTelepon",id:"noTelepon",onChange:k,value:n.noTelepon||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"agama",labelValue:"Agama",constantApi:c.a9.MASTER_TYPE_RELIGION,required:!1,defaultValue:n.agama||"",onSelect:e=>{N("agama",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"suku",className:"block text-xs font-small text-gray-900 mb-1",children:"Suku"}),(0,r.jsx)("input",{type:"text",name:"suku",id:"suku",onChange:k,value:n.suku||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"golonganDarah",className:"block text-xs font-small text-gray-900 mb-1",children:"GolonganDarah"}),(0,r.jsx)("input",{type:"text",name:"golonganDarah",id:"golonganDarah",onChange:k,value:n.golonganDarah||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"appliedPositon",labelValue:"Posisi Yang Ingin Dilamar",constantApi:c.a9.MASTER_TYPE_CREW_LVL,required:!0,defaultValue:n.appliedPosition||"",onSelect:e=>{N("appliedPosition",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"silverCode",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Kode Pelaut"]}),(0,r.jsx)("input",{type:"text",name:"silverCode",id:"silverCode",onChange:k,value:n.silverCode||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"nomorKartuKeluarga",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Nomor Kartu Keluarga"]}),(0,r.jsx)("input",{type:"text",name:"nomorKartuKeluarga",id:"nomorKartuKeluarga",onChange:k,value:n.nomorKartuKeluarga||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"nomorKTP",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Nomor KTP"]}),(0,r.jsx)("input",{type:"text",name:"nomorKTP",id:"nomorKTP",onChange:k,value:n.nomorKTP||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"alamatDiKTP",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Alamat KTP"]}),(0,r.jsx)("input",{type:"text",name:"alamatDiKTP",id:"alamatDiKTP",onChange:k,value:n.alamatDiKTP||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"kotaDiKTP",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Kota Di KTP"]}),(0,r.jsx)("input",{type:"text",name:"kotaDiKTP",id:"kotaDiKTP",onChange:k,value:n.kotaDiKTP||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"namaBank",labelValue:"Bank",constantApi:c.a9.MASTER_TYPE_BANK,required:!1,defaultValue:n.namaBank||"",onSelect:e=>{N("namaBank",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"noRekening",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"No Rekening"]}),(0,r.jsx)("input",{type:"text",name:"noRekening",id:"noRekening",onChange:k,value:n.noRekening||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaPemilikRekening",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Nama Pemilik Rekening"]}),(0,r.jsx)("input",{type:"text",name:"namaPemilikRekening",id:"namaPemilikRekening",onChange:k,value:n.namaPemilikRekening||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"npwp",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"NPWP"]}),(0,r.jsx)("input",{type:"text",name:"npwp",id:"npwp",onChange:k,value:n.npwp||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"statusPajak",labelValue:"Status Pernikahan",constantApi:c.a9.MASTER_TYPE_TAX_STATUS,required:!1,defaultValue:n.statusPajak||"",onSelect:e=>{N("statusPajak",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"bpjsKesehatan",className:"block text-xs font-small text-gray-900 mb-1",children:"BPJS Kesehatan"}),(0,r.jsx)("input",{type:"text",name:"bpjsKesehatan",id:"bpjsKesehatan",onChange:k,value:n.bpjsKesehatan||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"bpjstk",className:"block text-xs font-small text-gray-900 mb-1",children:"BPJS TK"}),(0,r.jsx)("input",{type:"text",name:"bpjstk",id:"bpjstk",onChange:k,value:n.bpjstk||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsxs)("div",{className:"bg-white rounded-sm shadow p-8 mb-2",children:[p&&(0,r.jsx)("div",{className:"mt-4 mb-3",children:(0,r.jsx)("img",{src:p,alt:"Selected Preview",width:160,height:0,className:"rounded-lg shadow-md"})}),(0,r.jsx)("label",{htmlFor:"file-upload-foto",className:"cursor-pointer bg-yellow-600 text-white px-3 py-1 rounded-lg shadow-lg tracking-wide border border-green-800 hover:bg-yellow-400",children:"Upload Foto Diri"}),(0,r.jsx)("input",{id:"file-upload-foto",type:"file",name:"fotoDiri",accept:"image/*",onChange:k,className:"hidden"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-sm shadow p-8 mb-2",children:[f&&(0,r.jsx)("div",{className:"mt-4 mb-3",children:(0,r.jsx)("img",{src:f,alt:"Selected Preview",width:160,height:0,className:"rounded-lg shadow-md"})}),(0,r.jsx)("label",{htmlFor:"file-upload-ktp",className:"cursor-pointer bg-yellow-600 text-white px-3 py-1 rounded-lg shadow-lg tracking-wide border border-green-800 hover:bg-yellow-400",children:"Upload Foto KTP"}),(0,r.jsx)("input",{id:"file-upload-ktp",type:"file",name:"fotoKTP",accept:"image/*",onChange:k,className:"hidden"})]})]})]})}),(0,r.jsx)("div",{className:"flex-1 bg-white mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaAyahKandung",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Nama Ayah Kandung"]}),(0,r.jsx)("input",{type:"text",name:"namaAyahKandung",id:"namaAyahKandung",value:n.namaAyahKandung||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaIbuKandung",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Nama Ibu Kandung"]}),(0,r.jsx)("input",{type:"text",name:"namaIbuKandung",id:"namaIbuKandung",value:n.namaIbuKandung||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md"})]})}),(0,r.jsx)("div",{className:"flex-1 bg-white mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"namaPasangan",className:"block text-xs font-small text-gray-900 mb-1",children:"Nama Suami / Istri"}),(0,r.jsx)("input",{type:"text",name:"namaPasangan",id:"namaPasangan",value:n.namaPasangan||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"tglLahirPasangan",className:"block text-xs font-small text-gray-900 mb-1",children:"Tgl. Lahir Suami / Istri"}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:n.tglLahirPasangan,onChange:e=>{w("tglLahirPasangan",e)},dateFormat:"dd/MM/yyyy"})})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md"})]})}),(0,r.jsx)("div",{className:"flex-1 bg-white mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"namaAnak1",className:"block text-xs font-small text-gray-900 mb-1",children:"Nama Anak 1"}),(0,r.jsx)("input",{type:"text",name:"namaAnak1",id:"namaAnak1",value:n.namaAnak1||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"namaAnak2",className:"block text-xs font-small text-gray-900 mb-1",children:"Nama Anak 2"}),(0,r.jsx)("input",{type:"text",name:"namaAnak2",id:"namaAnak2",value:n.namaAnak2||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"namaAnak3",className:"block text-xs font-small text-gray-900 mb-1",children:"Nama Anak 3"}),(0,r.jsx)("input",{type:"text",name:"namaAnak3",id:"namaAnak3",value:n.namaAnak3||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"tglLahirAnak1",className:"block text-xs font-small text-gray-900 mb-1",children:"Tgl. Lahir Anak 1"}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:n.tglLahirAnak1,onChange:e=>{w("tglLahirAnak1",e)},dateFormat:"dd/MM/yyyy"})})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"tglLahirAnak2",className:"block text-xs font-small text-gray-900 mb-1",children:"Tgl. Lahir Anak 2"}),(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:n.tglLahirAnak2,onChange:e=>{w("tglLahirAnak2",e)},dateFormat:"dd/MM/yyyy"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"tglLahirAnak3",className:"block text-xs font-small text-gray-900 mb-1",children:"Tgl. Lahir Anak 3"}),(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:n.tglLahirAnak3||null,onChange:e=>{w("tglLahirAnak3",e)},dateFormat:"dd/MM/yyyy"})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"pendidikanAnak1",className:"block text-xs font-small text-gray-900 mb-1",children:"Pendidikan Anak 1"}),(0,r.jsx)("input",{type:"text",name:"pendidikanAnak1",id:"pendidikanAnak1",value:n.pendidikanAnak1||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"pendidikanAnak2",className:"block text-xs font-small text-gray-900 mb-1",children:"Pendidikan Anak 2"}),(0,r.jsx)("input",{type:"text",name:"pendidikanAnak2",id:"pendidikanAnak2",value:n.pendidikanAnak2||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"pendidikanAnak3",className:"block text-xs font-small text-gray-900 mb-1",children:"Pendidikan Anak 3"}),(0,r.jsx)("input",{type:"text",name:"pendidikanAnak3",id:"pendidikanAnak3",value:n.pendidikanAnak3||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]})]})]})}),(0,r.jsx)("div",{className:"flex-1 bg-white mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaKontakDarurat",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Nama Kontak Darurat"]}),(0,r.jsx)("input",{type:"text",name:"namaKontakDarurat",id:"namaKontakDarurat",value:n.namaKontakDarurat||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaKontakDarurat2",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Nama Kontak Darurat 2"]}),(0,r.jsx)("input",{type:"text",name:"namaKontakDarurat2",id:"namaKontakDarurat2",value:n.namaKontakDarurat2||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"hubunganKontakDarurat",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Hubungan Kontak Darurat"]}),(0,r.jsx)("input",{type:"text",name:"hubunganKontakDarurat",id:"hubunganKontakDarurat",value:n.hubunganKontakDarurat||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"hubunganKontakDarurat2",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"Hubungan Kontak Darurat 2"]}),(0,r.jsx)("input",{type:"text",name:"hubunganKontakDarurat2",id:"hubunganKontakDarurat2",value:n.hubunganKontakDarurat2||"",onChange:k,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"noTelpKontakDarurat",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"No. Telp. Kontak Darurat"]}),(0,r.jsx)("input",{type:"number",name:"noTelpKontakDarurat",id:"noTelpKontakDarurat",onChange:k,value:n.noTelpKontakDarurat||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"noTelpKontakDarurat2",className:"block text-xs font-small text-gray-900 mb-1",children:[(0,r.jsx)("sup",{children:"* "}),"No. Telp. Kontak Darurat 2"]}),(0,r.jsx)("input",{type:"number",name:"noTelpKontakDarurat2",id:"noTelpKontakDarurat2",onChange:k,value:n.noTelpKontakDarurat2||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]})]})]})})]}),(0,r.jsx)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Simpan & Lanjutkan"})})]})})};class y{constructor(e=0,a=0,t=0,r="",s="",l="",n="",d,i="",o,c="",m,u=!1,x="",b=""){this.id=e,this.employeeId=a,this.rekrutmenId=t,this.pendidikan=r,this.jurusan=s,this.namaInstitusi=l,this.kota=n,this.tglSelesai=null!=d?d:null,this.createdBy=i,this.createdTime=null!=o?o:null,this.modifiedBy=c,this.modifiedTime=null!=m?m:null,this.aktif=u,this.mode=x,this.menuForm=b}}var f=t(85097);t(54575);var j=e=>{let{relasiId:a,Id:t,onClose:l,onSubmit:n}=e,[i,m]=(0,s.useState)(new y),[x,b]=(0,s.useState)(null);(0,s.useEffect)(()=>{t>0&&0===i.id?e(t):i.rekrutmenId=a;async function e(e){try{let a=await d.Z.getDataByIdNonAuth(e,c.a9.API_REKRUTMEN_GET_EDUCATION_ID_NON_AUTH);m(a)}catch(e){b("Gagal mengambil data pendidikan"),console.error(e)}}},[t,i,a]);let h=e=>{let{name:a,value:t}=e.target;m(e=>"tglSelesai"===a?{...e,[a]:new Date(t)}:{...e,[a]:t})},g=(e,a)=>{"tglSelesai"===e&&m({...i,tglSelesai:a})},p=async e=>{if(e.preventDefault(),e.currentTarget.checkValidity()){i.id>0?(i.aktif=!0,i.mode="EDIT"):(i.rekrutmenId=a,i.modifiedTime=void 0,i.mode="CREATE"),i.menuForm="REKRUTMEN",i.employeeId=i.employeeId?i.employeeId:void 0;try{let e=await d.Z.postNonAuth(i,c.a9.API_REKRUTMEN_SAVE_EDUCATION_NON_AUTH);if("OK"===e.data.status)n();else throw Error("Failed to save data")}catch(e){console.error("Error saving data:",x)}}};return(0,r.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,r.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Pendidikan"}),(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"pendidikan",labelValue:"Pendidikan",constantApi:c.a9.MASTER_TYPE_PENDIDIKAN,required:!0,defaultValue:i.pendidikan||"",onSelect:e=>{m({...i,pendidikan:e})}})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Jurusan"]}),(0,r.jsx)("input",{type:"text",name:"jurusan",value:i.jurusan,onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Institusi"]}),(0,r.jsx)("input",{type:"text",name:"namaInstitusi",value:i.namaInstitusi,onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Kota"]}),(0,r.jsx)("input",{type:"text",name:"kota",value:i.kota,onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Tahun Selesai"]}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",selected:i.tglSelesai,onChange:e=>{g("tglSelesai",e)},dateFormat:"dd/MM/yyyy",name:"tglSelesai",required:!0})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-500 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Simpan"}),(0,r.jsx)("button",{type:"button",onClick:l,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})]})})},N=t(48572);class k{constructor(e=0,a=0,t="",r,s,l="",n="",d="",i="",o="",c="",m="",u=0,x="",b,h="",g,p=0,y="",f="",j="",N="",k=null){this.id=e,this.employeeId=a,this.perusahaan=t,this.tanggal=null!=r?r:null,this.tanggalSelesai=null!=s?s:null,this.status=l,this.kapal=n,this.gtKapal=d,this.jabatan=i,this.alasanOff=o,this.keterangan=c,this.currency=m,this.gajiTerakhir=u,this.createdBy=x,this.createdTime=null!=b?b:null,this.modifiedBy=h,this.modifiedTime=null!=g?g:null,this.rekrutmenId=p,this.fileName=y,this.filePath=f,this.fileLink=j,this.mode=N,this.fileDoc=k}}var w=t(14666),v=e=>{let{id:a,modelType:t,onSubmit:l,onClose:n}=e,[i,o]=(0,s.useState)(new y),[m,u]=(0,s.useState)(new N.Z),[x,h]=(0,s.useState)(new w.Z),[g,p]=(0,s.useState)(new k),[f,j]=(0,s.useState)();(0,s.useEffect)(()=>{"PENDIDIKAN"===t&&a>0&&0===i.id?e(a,t,c.a9.API_REKRUTMEN_GET_EDUCATION_ID_NON_AUTH):"RIWAYAT PEKERJAAN"===t&&a>0&&0===g.id?e(a,t,c.a9.API_REKRUTMEN_GET_RIWAYAT_PEKERJAAN_ID_NON_AUTH):"SERTIFIKAT"===t&&a>0&&0===x.id?e(a,t,c.a9.API_REKRUTMEN_GET_CERTIFICATE_ID_NON_AUTH):"FILE PENDUKUNG"===t&&a>0&&0===m.id&&e(a,t,c.a9.API_REKRUTMEN_GET_OPTIONAL_FILE_ID_NON_AUTH);async function e(e,a,t){try{if("PENDIDIKAN"===a){let a=await d.Z.getDataEducationId(e);o(a),j(i.pendidikan)}else if("RIWAYAT PEKERJAAN"===a){let a=await d.Z.getDataByIdNonAuth(e,t);console.log(a),p(a),j(g.kapal)}else if("SERTIFIKAT"===a){let a=await d.Z.getDataByIdNonAuth(e,t);h(a),j(x.certificateName)}else if("FILE PENDUKUNG"===a){let a=await d.Z.getDataByIdNonAuth(e,t);u(a),j(m.documentName)}}catch(e){b.A.error("Gagal mengambil data "+a),console.error(e)}}},[m.documentName,m.id,a,t,i.id,i.pendidikan,g.id,g.kapal,x.certificateName,x.id]);let v=async()=>{let e="";try{"PENDIDIKAN"===t?(i.mode="DELETE",e=(await d.Z.postNonAuth(i,c.a9.API_REKRUTMEN_SAVE_EDUCATION_NON_AUTH)).data.status):"RIWAYAT PEKERJAAN"===t?(g.mode="DELETE",e=(await d.Z.postNonAuth(g,c.a9.API_REKRUTMEN_SAVE_RIWAYAT_NON_AUTH)).data.status):"SERTIFIKAT"===t?(x.mode="DELETE",e=(await d.Z.postNonAuth(x,c.a9.API_REKRUTMEN_SAVE_CERTIFICATE_NON_AUTH)).data.status):(m.mode="DELETE",e=(await d.Z.postNonAuth(m,c.a9.API_REKRUTMEN_SAVE_OPTIONAL_FILE_NON_AUTH)).data.status),"OK"===e?l():b.A.error("Gagal menghapus data "+f)}catch(e){b.A.error("Error saving data:"),console.error("Error saving data:",e)}finally{}};return(0,r.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,r.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,r.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,r.jsxs)("h2",{className:"text-xl font-bold",children:["Yakin menghapus data ",f," ini ?"]})}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"button",onClick:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-orange-500 text-base font-medium text-white hover:bg-orange-200 sm:ml-3 sm:w-auto sm:text-sm",children:"Ya"}),(0,r.jsx)("button",{type:"button",onClick:n,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})},T=e=>{let{onNext:a,onPrevious:t,rekrutmenId:l}=e,[n,i]=(0,s.useState)([]),[o,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(0),[h,g]=(0,s.useState)(!1),p=e=>{m(!0),x(e)},N=e=>{g(!0),x(e)},k=async()=>{a(l)},w=async()=>{t(l)};(0,s.useEffect)(()=>{l>0&&T()},[]);let T=async()=>{try{let e=(await d.Z.getListDataById(l,c.a9.API_REKRUTMEN_LIST_EDUCATIONS_ID_NON_AUTH,"REKRUTMEN")).data.map(e=>new y(e.id,e.employeeId,e.rekrutmenId,e.pendidikan,e.jurusan,e.namaInstitusi,e.kota,e.tglSelesai,e.createdBy,e.createdTime,e.modifiedBy,e.modifiedTime,e.aktif));i(e)}catch(e){console.error("Error fetching data:",e)}},A=e=>{"SAVE"===e?(m(!1),b.A.success("Pendidikan berhasil tersimpan")):(g(!1),b.A.error("Pendidikan berhasil terhapus")),T()};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:" p-4 bg-gray-100 ",children:(0,r.jsx)("div",{className:"bg-white mb-2 p-6 rounded-lg shadow-md overflow-y-auto",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,r.jsx)("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-4 py-2 border text-center tracking-wider sm:table-cell",children:(0,r.jsx)("button",{onClick:()=>p(0),className:" bottom-4 right-4 px-4 py-2  bg-green-800 text-white rounded-full shadow-lg hover:bg-green-500",children:"Tambah Pendidikan"})}),(0,r.jsx)("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Pendidikan"}),(0,r.jsx)("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Jurusan"}),(0,r.jsx)("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Nama Institusi"}),(0,r.jsx)("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Kota"}),(0,r.jsx)("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Tanggal Selesai"})]})}),(0,r.jsx)("tbody",{children:n.filter(e=>!0===e.aktif).map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm border",children:[(0,r.jsx)("button",{onClick:()=>p(e.id),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:(0,r.jsx)(f.JIY,{size:20})}),(0,r.jsx)("button",{onClick:()=>N(e.id),className:"ml-2 rounded-sm p-1 border border-red-500 hover:bg-red-600",children:(0,r.jsx)(f.L_o,{size:20})})]}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.pendidikan}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.jurusan}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.namaInstitusi}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.kota}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.tglSelesai?(0,c.p6)(e.tglSelesai.toString()):""})]},a))})]})})}),(0,r.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:[(0,r.jsx)("button",{onClick:w,type:"submit",className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full shadow-lg",children:"Kembali"}),(0,r.jsx)("button",{onClick:k,type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Simpan & Lanjutkan"})]}),o&&(0,r.jsx)(j,{relasiId:l,Id:u,onClose:()=>m(!1),onSubmit:()=>A("SAVE")}),h&&(0,r.jsx)(v,{modelType:"PENDIDIKAN",id:u,onClose:()=>g(!1),onSubmit:()=>A("DELETE")})]})},A=t(75895),E=t(38351),D=e=>{let{relasiId:a,Id:t,typeDoc:l,onClose:n,onSubmit:i}=e,[m,x]=(0,s.useState)(new w.Z),[h,g]=(0,s.useState)(!1),[p,y]=(0,s.useState)(!1),[f,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(),[v,T]=(0,s.useState)(0);(0,s.useEffect)(()=>{async function e(e){try{let a=await d.Z.getDataByIdNonAuth(e,c.a9.API_REKRUTMEN_GET_CERTIFICATE_ID_NON_AUTH);x(a)}catch(e){b.A.error("Gagal mengambil data Sertifikat"),console.error(e)}}"Travel Document"===l?(y(!0),k(c.a9.MASTER_TYPE_TRAVEL_DOC)):"Certificate Of Competency"===l?k(c.a9.MASTER_TYPE_CERTIFICATE_COMPETENCY_DOC):k(c.a9.MASTER_TYPE_CERTIFICATE_PROFICIENCY_DOC),t>0&&0===m.id?e(t):m.rekrutmenId=a},[t,m,a,l]);let D=e=>{let{name:a,value:t,files:r}=e.target;x(e=>{if("fileDoc"!==a||!r)return{...e,[a]:t};{let t=r[0];return t.size>512e3?(b.A.error("Ukuran file maksimal adalah 500KB"),e):{...e,[a]:t,fileName:t.name}}})},I=e=>{T(e),m.certificateDate&&(m.certificateValidTo=(0,A.B)(m.certificateDate,e))},S=(e,a)=>{"certificateDate"===e?(x({...m,certificateDate:a}),v>0&&x({...m,certificateValidTo:(0,A.B)(a,v)})):"certificateValidTo"===e&&x({...m,certificateValidTo:a})},C=async e=>{if(e.preventDefault(),e.currentTarget.checkValidity()){m.id>0?(m.aktif=!0,m.mode="EDIT"):(m.rekrutmenId=a,m.modifiedTime=void 0,m.mode="CREATE"),m.docCategory=l,m.certificateName=m.certificateName?m.certificateName:m.docType,m.employeeId=m.employeeId?m.employeeId:void 0;try{let e=await d.Z.postNonAuth(m,c.a9.API_REKRUTMEN_SAVE_CERTIFICATE_NON_AUTH);if("OK"===e.data.status&&m.rekrutmenId){if(!m.fileDoc)return;let a=new FormData;a.append("file",m.fileDoc),a.append("certId",e.data.returnId),a.append("crewId",m.rekrutmenId.toString()),a.append("menuForm","REKRUTMEN");let t=await d.Z.postDocNonAuth(a,c.a9.API_REKRUTMEN_SAVE_CERTIFICATE_DOC_NON_AUTH);if("OK"===t.data.status)i();else throw Error("Failed to save data")}else b.A.error("Sertifikat gagal tersimpan"),console.error("Error saving data:",e.data.message)}catch(e){console.error("Error saving data:",e),b.A.error("Error saving data:")}}};return(0,r.jsxs)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,r.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Sertifikat"}),(0,r.jsxs)("form",{onSubmit:C,children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"docType",labelValue:"Tipe Dokumen / Sertifikat",constantApi:N||"",required:!0,defaultValue:m.docType||"",onSelect:e=>{x({...m,docType:e}),"OTHERS"===e&&j(!0)}})}),f&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{children:"Nama Sertifikat"}),(0,r.jsx)("input",{type:"text",name:"certificateName",value:m.certificateName,onChange:D,required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"No Sertifikat"]}),(0,r.jsx)("input",{type:"text",name:"certificateNo",value:m.certificateNo,onChange:D,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),p&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{children:"Tempat Pembuatan"}),(0,r.jsx)("input",{type:"text",name:"issuers",value:m.issuers,onChange:D,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Tgl. Sertifikat / Dokumen"]}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",selected:m.certificateDate,onChange:e=>{S("certificateDate",e)},dateFormat:"dd/MM/yyyy",name:"certificateDate",required:!0})})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"5years",checked:5===v,onChange:()=>I(5)}),(0,r.jsx)("label",{htmlFor:"5years",children:"Berlaku 5 Tahun"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"10years",checked:10===v,onChange:()=>I(10)}),(0,r.jsx)("label",{htmlFor:"10years",children:"Berlaku 10 Tahun"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Tgl. Expired Sertifikat / Dokumen"]}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",selected:m.certificateValidTo,onChange:e=>{S("certificateValidTo",e)},dateFormat:"dd/MM/yyyy",name:"certificateValidTo",required:!0})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Upload File"]}),(0,r.jsx)("input",{type:"text",name:"fileName",value:m.fileName,onChange:D,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",readOnly:!0,placeholder:"Klik button Upload File (format file .pdf)",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("input",{type:"file",accept:"application/pdf",onChange:D,className:"hidden",id:"pdf-upload",name:"fileDoc"}),(0,r.jsx)("label",{htmlFor:"pdf-upload",className:"mr-1 px-3 py-1 bg-green-700 text-white rounded cursor-pointer",children:"Upload File"}),(0,r.jsx)("input",{type:"button",onClick:()=>{g(!0)},id:"pdf-view"}),(0,r.jsx)("label",{htmlFor:"pdf-view",className:"ml-1 px-3 py-1 bg-yellow-600 text-white rounded cursor-pointer",children:"View File"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{children:"Keterangan"}),(0,r.jsx)("input",{type:"text",name:"keterangan",value:m.keterangan,onChange:D,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-500 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Simpan"}),(0,r.jsx)("button",{type:"button",onClick:n,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})]}),h&&(0,r.jsx)(E.Z,{file:m.fileDoc,fileLink:m.fileLink||"",onClose:()=>g(!1)})]})},I=e=>{let{note:a}=e,t=a.split("\n").filter(e=>""!==e.trim());return(0,r.jsx)("div",{children:t.map((e,a)=>(0,r.jsx)("p",{children:e},a))})},S=e=>{let{onNext:a,onPrevious:t,rekrutmenId:n}=e,[i,o]=(0,s.useState)([]),[m,u]=(0,s.useState)(new l.Z),[x,h]=(0,s.useState)(!1),[g,p]=(0,s.useState)(0),[y,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(!1),[T,A]=(0,s.useState)(!1),[S,C]=(0,s.useState)(null),[_,P]=(0,s.useState)(""),K="\n * Sertifikat AFF - Advanced Fire Fighting ( Format .pdf).",R="\n * Sertifikat BST - Basic Safety Training ( Format .pdf).",F="\n * Sertifikat ORU - Sertifikat Keahlian Operator RADIO GMDSS (Format .pdf).",U="\n * Sertifikat SCRB - Proficiency in Survival Craft And Rescue Boats (Format .pdf).",L=(e,a)=>{h(!0),p(e),j(a)},O=e=>{k(!0),p(e)},M=async()=>{a(n)},V=e=>{A(!0),C(e)},B=async()=>{t(n)};(0,s.useEffect)(()=>{async function e(e){try{let e=await d.Z.getDataIdNonAuth(n,c.a9.API_REKRUTMEN_GET_NON_AUTH);u(e.data)}catch(e){b.A.error("Gagal mengambil data rekrutmen"),console.error(e)}}n>0&&Z(),n>0&&0===m.id&&e(n);let a=" Berikut ini beberapa dokumen yang wajib anda upload :";a+=K+R,console.log(m.appliedPosition),("NAKHODA"==m.appliedPosition||"MUALIM I"==m.appliedPosition||"MUALIM II"==m.appliedPosition||"MUALIM III"==m.appliedPosition||"KKM"==m.appliedPosition)&&(a+=F),"NAKHODA"==m.appliedPosition&&(a+=U),console.log(a),console.log(a.split("\n").filter(e=>""!==e.trim())),P(a)},[K,R,F,U,m.appliedPosition,m.id,n]);let Z=async()=>{try{let e=(await d.Z.getListDataById(n,c.a9.API_REKRUTMEN_LIST_CERTIFICATES_ID_NON_AUTH,"REKRUTMEN")).data.map(e=>new w.Z(e.id,e.employeeId,e.rekrutmenId,e.certificateName,e.certificateNo,e.issuers,e.certificateDate,e.certificateValidTo,e.createdBy,e.createdTime,e.modifiedBy,e.modifiedTime,e.aktif,e.fileName,e.fIlePath,e.fileLink,e.docType,e.docCategory,e.keterangan));o(e)}catch(e){console.error("Error fetching data:",e)}},q=e=>{"SAVE"===e?(h(!1),b.A.success("Sertifikat berhasil tersimpan")):(k(!1),b.A.error("Sertifikat berhasil terhapus")),Z()};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:" p-4 bg-gray-100  overflow-x-auto max-h-screen",children:[(0,r.jsxs)("div",{className:" bg-white mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:[(0,r.jsx)("h2",{className:"text-md mb-2 ml-2 font-bold",children:"Travel Dokumen"}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 p-4 ",children:[(0,r.jsx)("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 border text-center",children:(0,r.jsx)("button",{onClick:()=>L(0,"Travel Document"),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah Sertifikat"})}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Nama Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"No Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Tgl. Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Oleh"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Pada"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Diubah Oleh"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Diubah Pada"})]})}),(0,r.jsx)("tbody",{children:i.filter(e=>"Travel Document"==e.docCategory).map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm border",children:[(0,r.jsx)("button",{onClick:()=>L(e.id,"Travel Document"),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:(0,r.jsx)(f.JIY,{size:20})})," ",(0,r.jsx)("button",{onClick:()=>O(e.id),className:"ml-2 rounded-sm p-1 border border-red-500 hover:bg-red-600",children:(0,r.jsx)(f.L_o,{size:20})}),(0,r.jsx)("button",{onClick:()=>V(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:(0,r.jsx)(f.U3C,{size:20})})]}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateName}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateNo}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateDate?(0,c.p6)(e.certificateDate.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.createdBy}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.createdTime?(0,c.p6)(e.createdTime.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.modifiedBy}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.modifiedTime?(0,c.p6)(e.modifiedTime.toString()):""})]},e.id))})]})]}),(0,r.jsxs)("div",{className:" bg-white mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:[(0,r.jsx)("h2",{className:"text-md mb-2 ml-2 font-bold",children:"Certificate Of Competency"}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 p-4",children:[(0,r.jsx)("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 border text-center",children:(0,r.jsx)("button",{onClick:()=>L(0,"Certificate Of Competency"),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah Sertifikat"})}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Nama Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"No Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Tgl. Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Oleh"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Pada"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Diubah Oleh"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Diubah Pada"})]})}),(0,r.jsx)("tbody",{children:i.filter(e=>"Certificate Of Competency"==e.docCategory).map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm border",children:[(0,r.jsx)("button",{onClick:()=>L(e.id,"Certificate Of Competency"),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:(0,r.jsx)(f.JIY,{size:20})}),(0,r.jsx)("button",{onClick:()=>O(e.id),className:" rounded-sm p-1 border border-red-500 hover:bg-red-600 ml-2",children:(0,r.jsx)(f.L_o,{size:20})}),(0,r.jsx)("button",{onClick:()=>V(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:(0,r.jsx)(f.U3C,{size:20})})]}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateName}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateNo}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateDate?(0,c.p6)(e.certificateDate.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.createdBy}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.createdTime?(0,c.p6)(e.createdTime.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.modifiedBy}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.modifiedTime?(0,c.p6)(e.modifiedTime.toString()):""})]},e.id))})]})]}),(0,r.jsxs)("div",{className:" bg-white mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:[(0,r.jsx)("h2",{className:"text-md mb-2 ml-2 font-bold",children:"Certificate Of Proficiency"}),(0,r.jsx)("div",{className:" bg-gray-300 mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:(0,r.jsx)(I,{note:_})}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 p-4",children:[(0,r.jsx)("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 border text-center",children:(0,r.jsx)("button",{onClick:()=>L(0,"Certificate Of Proficiency"),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah Sertifikat"})}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Nama Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"No Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Tgl. Sertifikat"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Oleh"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Pada"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Diubah Oleh"}),(0,r.jsx)("th",{className:"px-4 py-2 text-sm border",children:"Diubah Pada"})]})}),(0,r.jsx)("tbody",{children:i.filter(e=>"Certificate Of Proficiency"==e.docCategory).map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm border",children:[(0,r.jsx)("button",{onClick:()=>L(e.id,"Certificate Of Proficiency"),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:(0,r.jsx)(f.JIY,{size:20})}),(0,r.jsx)("button",{onClick:()=>O(e.id),className:" rounded-sm p-1 border border-red-500 hover:bg-red-600 ml-2",children:(0,r.jsx)(f.L_o,{size:20})}),(0,r.jsx)("button",{onClick:()=>V(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:(0,r.jsx)(f.U3C,{size:20})})]}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateName}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateNo}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.certificateDate?(0,c.p6)(e.certificateDate.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.createdBy}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.createdTime?(0,c.p6)(e.createdTime.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.modifiedBy}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.modifiedTime?(0,c.p6)(e.modifiedTime.toString()):""})]},e.id))})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:[(0,r.jsx)("button",{onClick:B,type:"submit",className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full shadow-lg",children:"Kembali"}),(0,r.jsx)("button",{onClick:M,type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Simpan & Lanjutkan"})]}),x&&(0,r.jsx)(D,{relasiId:n,Id:g,onClose:()=>h(!1),onSubmit:()=>q("SAVE"),typeDoc:y||""}),N&&(0,r.jsx)(v,{modelType:"SERTIFIKAT",id:g,onClose:()=>k(!1),onSubmit:()=>q("DELETE")}),T&&(0,r.jsx)(E.Z,{file:null,fileLink:S||"",onClose:()=>A(!1)})]})},C=t(42001),_=e=>{let{relasiId:a,id:t,onClose:l,onSubmit:n}=e,[i,m]=(0,s.useState)(new k),[x,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t>0&&0===i.id?e(t):i.rekrutmenId=a;async function e(e){try{let a=await d.Z.getDataByIdNonAuth(e,c.a9.API_REKRUTMEN_GET_RIWAYAT_PEKERJAAN_ID_NON_AUTH);m(a)}catch(e){b.A.error("Gagal fetch data Riwayat Pekerjaan"),console.error(e)}}},[t,i,a]);let g=e=>{let{name:a,value:t,files:r}=e.target;m(e=>{if("fileDoc"!==a||!r)return{...e,[a]:t};{let t=r[0];return t.size>512e3?(b.A.error("Ukuran file maksimal adalah 500KB"),e):{...e,[a]:t,fileName:t.name}}})},p=(e,a)=>{"tanggal"===e?m({...i,tanggal:a}):m({...i,tanggalSelesai:a})},y=(e,a)=>{"jabatan"===e?m({...i,jabatan:a}):m({...i,currency:a})},f=(e,a)=>{m({...i,gajiTerakhir:parseFloat(a)})},j=async e=>{if(e.preventDefault(),e.currentTarget.checkValidity()){i.id>0?i.mode="EDIT":(i.rekrutmenId=a,i.mode="CREATE",i.modifiedTime=void 0,i.createdTime=new Date),i.menuForm="REKRUTMEN",i.employeeId=i.employeeId?i.employeeId:void 0,console.log(i);try{let e=await d.Z.postNonAuth(i,c.a9.API_REKRUTMEN_SAVE_RIWAYAT_NON_AUTH);if(console.log(e),"OK"===e.data.status&&i.rekrutmenId){if(!i.fileDoc)return;let a=new FormData;a.append("file",i.fileDoc),a.append("riwayatId",e.data.returnId),a.append("rekId",i.rekrutmenId.toString()),a.append("menuForm","REKRUTMEN");let t=await d.Z.postDocNonAuth(a,c.a9.API_REKRUTMEN_SAVE_RIWAYAT_DOC_NON_AUTH);if("OK"===t.data.status)n();else throw Error("Failed to save data")}else b.A.error("Sertifikat gagal tersimpan"),console.error("Error saving data:",e.data.message)}catch(e){b.A.error("Server gagal menyimpan"),console.error("Error saving data:",e)}}};return(0,r.jsxs)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,r.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Riwayat Pekerjaan"}),(0,r.jsxs)("form",{onSubmit:j,children:[(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Perusahaan"]}),(0,r.jsx)("input",{type:"text",name:"perusahaan",value:i.perusahaan||"",onChange:g,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Kapal"]}),(0,r.jsx)("input",{type:"text",name:"kapal",value:i.kapal,onChange:g,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{children:"GT Kapal"}),(0,r.jsx)("input",{type:"text",name:"gtKapal",value:i.gtKapal,onChange:g,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"jabatan",labelValue:"Jabatan",constantApi:c.a9.MASTER_TYPE_CREW_LVL,required:!0,defaultValue:i.jabatan||"",onSelect:e=>{y("jabatan",e)}})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Alasan Off"]}),(0,r.jsx)("input",{type:"text",name:"alasanOff",value:i.alasanOff,onChange:g,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Tgl. Mulai"]}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:i.tanggal,onChange:e=>{p("tanggal",e)},dateFormat:"dd/MM/yyyy",name:"tanggal",required:!0})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{children:"Tgl. Selesai"}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:i.tanggalSelesai,onChange:e=>{p("tanggalSelesai",e)},dateFormat:"dd/MM/yyyy",name:"tanggalSelesai"})})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"currency",labelValue:"Currency",constantApi:c.a9.MASTER_CURRENCY_NON_AUTH,required:!1,defaultValue:i.currency||"",onSelect:e=>{y("currency",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{children:"Gaji Terakhir"}),(0,r.jsx)("div",{children:(0,r.jsx)(C.ZP,{id:"gajiTerakhir",name:"gajiTerakhir",placeholder:"Masukan Angka",className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",decimalsLimit:2,value:i.gajiTerakhir,onValueChange:(e,a,t)=>f(a||"",e||"")})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{children:"Surat Sign Off"}),(0,r.jsx)("input",{type:"text",name:"fileName",value:i.fileName,onChange:g,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",readOnly:!0,placeholder:"Klik button Upload File untuk upload surat sign off (format file .pdf)"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("input",{type:"file",accept:"application/pdf",onChange:g,className:"hidden",id:"pdf-upload",name:"fileDoc"}),(0,r.jsx)("label",{htmlFor:"pdf-upload",className:"mr-1 px-3 py-1 bg-green-700 text-white rounded cursor-pointer",children:"Upload File"}),(0,r.jsx)("input",{type:"button",onClick:()=>{h(!0)},id:"pdf-view"}),(0,r.jsx)("label",{htmlFor:"pdf-view",className:"ml-1 px-3 py-1 bg-yellow-600 text-white rounded cursor-pointer",children:"View File"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-500 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Simpan"}),(0,r.jsx)("button",{type:"button",onClick:l,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})]}),x&&(0,r.jsx)(E.Z,{file:i.fileDoc,fileLink:i.fileLink||"",onClose:()=>h(!1)})]})},P=e=>{let{onNext:a,onPrevious:t,rekrutmenId:l}=e,[n,i]=(0,s.useState)([]),[o,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(0),[h,g]=(0,s.useState)(!1),[p,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(null),w=e=>{m(!0),x(e)},T=e=>{y(!0),N(e)},A=e=>{g(!0),x(e)},D=async()=>{a(l)},I=async()=>{t(l)};(0,s.useEffect)(()=>{l>0&&S()},[]);let S=async()=>{try{let e=(await d.Z.getListDataRiwayatPekerjaanId(l)).data.map(e=>new k(e.id,e.employeeId,e.perusahaan,e.tanggal,e.tanggalSelesai,e.status,e.kapal,e.gtKapal,e.jabatan,e.alasanOff,e.keterangan,e.currency,e.gajiTerakhir,e.createdBy,e.createdTime,e.modifiedBy,e.modifiedTime,e.rekrutmenId,e.fileName,e.filePath,e.fileLink));i(e),console.log(e)}catch(e){console.error("Error fetching data:",e)}},C=e=>{"SAVE"===e?(m(!1),b.A.success("Riwayat Pekerjaan berhasil tersimpan")):(g(!1),b.A.error("Riwayat Pekerjaan berhasil terhapus")),S()};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"p-4  bg-gray-100 flex flex-col overflow-x-auto max-h-screen",children:(0,r.jsx)("div",{className:"flex-1 bg-white mb-2 p-6 rounded-lg shadow-md overflow-y-auto max-w-screen-xl",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-300 ",children:[(0,r.jsx)("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 border text-center",children:(0,r.jsx)("button",{onClick:()=>w(0),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah Riwayat"})}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Perusahaan"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Kapal"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"GT Kapal"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Jabatan"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Alasan Off"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Tanggal"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Tanggal Selesai"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Currency"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Gaji Terakhir"})]})}),(0,r.jsx)("tbody",{children:n.map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-3 py-2 border",children:[(0,r.jsx)("button",{onClick:()=>w(e.id),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:(0,r.jsx)(f.JIY,{size:20})}),(0,r.jsx)("button",{onClick:()=>A(e.id),className:" rounded-sm p-1 border border-red-500 hover:bg-red-600 ml-2",children:(0,r.jsx)(f.L_o,{size:20})}),(0,r.jsx)("button",{onClick:()=>T(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:(0,r.jsx)(f.U3C,{size:20})})]}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.perusahaan}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.kapal}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.gtKapal}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.jabatan}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.alasanOff}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.tanggal?(0,c.p6)(e.tanggal.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.tanggalSelesai?(0,c.p6)(e.tanggalSelesai.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.currency}),(0,r.jsx)("td",{className:"px-4 py-2 border",children:e.gajiTerakhir})]},a))})]})})}),(0,r.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:[(0,r.jsx)("button",{onClick:I,type:"submit",className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full shadow-lg",children:"Kembali"}),(0,r.jsx)("button",{onClick:D,type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Simpan & Lanjutkan"})]}),o&&(0,r.jsx)(_,{relasiId:l,id:u,onClose:()=>m(!1),onSubmit:()=>C("SAVE")}),h&&(0,r.jsx)(v,{modelType:"RIWAYAT PEKERJAAN",id:u,onClose:()=>g(!1),onSubmit:()=>C("DELETE")}),p&&(0,r.jsx)(E.Z,{file:null,fileLink:j||"",onClose:()=>y(!1)})]})},K=e=>{let{relasiId:a,id:t,onClose:l,onSubmit:n}=e,[i,m]=(0,s.useState)(new N.Z),[x,h]=(0,s.useState)(!1),[g,p]=(0,s.useState)(null),[y,f]=(0,s.useState)({}),[j,k]=(0,s.useState)(!1),[w,v]=(0,s.useState)(!1),[T,A]=(0,s.useState)(!1),[D,I]=(0,s.useState)(!1),[S,C]=(0,s.useState)(!1),[_,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t>0&&0===i.id?K(t):i.rekrutmenId=a},[t,i,a]);let K=async e=>{try{let a=await d.Z.getDataByIdNonAuth(e,c.a9.API_REKRUTMEN_GET_OPTIONAL_FILE_ID_NON_AUTH);m(a)}catch(e){b.A.error("Gagal Fetching Data"),console.error("Error fetching data:",e)}},R=e=>{let{name:a,value:t,files:r}=e.target;m(e=>{if("fileDoc"!==a||!r)return{...e,[a]:t};{let t=r[0];return t.size>512e3?(f(e=>({...e,file:"Ukuran file maksimal adalah 500KB"})),e):(f(e=>({...e,foto:void 0})),{...e,[a]:t,fileName:t.name})}})},F=(e,a)=>{"documentDate"===e?m({...i,documentDate:a}):"documentValidDate"===e&&m({...i,documentValidDate:a})},U=async e=>{if(e.preventDefault(),e.currentTarget.checkValidity()){i.id>0?(i.aktif=!0,i.mode="EDIT"):(i.rekrutmenId=a,i.modifiedDate=void 0,i.mode="CREATE"),i.crewingId=i.crewingId?i.crewingId:void 0,i.documentName=i.fileCategory,i.documentValidDate="MCU"===i.fileCategory?i.documentValidDate:void 0;try{let e=await d.Z.postNonAuth(i,c.a9.API_REKRUTMEN_SAVE_OPTIONAL_FILE_NON_AUTH);if("OK"===e.data.status&&i.rekrutmenId){if(!i.fileDoc)return;let a=new FormData;a.append("file",i.fileDoc),a.append("optId",e.data.returnId),a.append("relasiId",i.rekrutmenId.toString()),a.append("menuForm","REKRUTMEN");let t=await d.Z.postDocNonAuth(a,c.a9.API_REKRUTMEN_SAVE_OPTIONAL_FILE_DOC_NON_AUTH);if("OK"===t.data.status)n();else throw Error("Failed to save data")}else b.A.error("FilePendukung berhasil tersimpan")}catch(e){console.error("Error saving data:",g),b.A.error("Error saving data:")}}};return(0,r.jsxs)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,r.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-2",children:"File Pendukung"}),(0,r.jsxs)("form",{onSubmit:U,children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(o,{elementId:"fileCategory",labelValue:"Tipe Dokumen",constantApi:c.a9.MASTER_TYPE_OPTIONAL_DOC,required:!0,defaultValue:i.fileCategory||"",onSelect:e=>{m({...i,fileCategory:e,documentName:e,documentValidDate:"MCU"===e?i.documentValidDate:void 0}),"MCU"===e?k(!0):k(!1),i.documentValidDate="MCU"===i.fileCategory?i.documentValidDate:void 0}})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Tgl. Pembuatan"]}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",selected:i.documentDate,onChange:e=>{F("documentDate",e)},dateFormat:"dd/MM/yyyy",name:"documentDate",required:!0})})]}),j&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Tgl. Valid Dokumen"]}),(0,r.jsx)("div",{children:(0,r.jsx)(u(),{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-start",showYearDropdown:!0,dropdownMode:"select",selected:i.documentValidDate,onChange:e=>{F("documentValidDate",e)},dateFormat:"dd/MM/yyyy",name:"documentValidDate",required:!0})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("sup",{children:"* "}),"Upload File"]}),(0,r.jsx)("input",{type:"text",name:"fileName",value:i.fileName,onChange:R,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",readOnly:!0,placeholder:"Upload file dengan klik button upload"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("input",{type:"file",accept:"application/pdf",onChange:R,className:"hidden",id:"pdf-upload",name:"fileDoc"}),(0,r.jsx)("label",{htmlFor:"pdf-upload",className:"mr-1 px-3 py-1 bg-green-700 text-white rounded cursor-pointer",children:"Upload PDF"}),(0,r.jsx)("input",{type:"button",onClick:()=>{h(!0)},id:"pdf-view"}),(0,r.jsx)("label",{htmlFor:"pdf-view",className:"ml-1 px-3 py-1 bg-yellow-600 text-white rounded cursor-pointer",children:"View File"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{children:"Keterangan"}),(0,r.jsx)("input",{type:"text",name:"keterangan",value:i.keterangan,onChange:R,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-700 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Simpan"}),(0,r.jsx)("button",{type:"button",onClick:l,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})]}),x&&(0,r.jsx)(E.Z,{file:i.fileDoc,fileLink:i.fileLink||"",onClose:()=>h(!1)})]})},R=t(16463),F=e=>{let{onNext:a,onPrevious:t,rekrutmenId:n}=e,i=(0,R.useRouter)(),[o,m]=(0,s.useState)([]),[u,x]=(0,s.useState)(new l.Z),[h,p]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[k,w]=(0,s.useState)(0),[T,A]=(0,s.useState)(!1),[D,I]=(0,s.useState)(null),S=e=>{p(!0),w(e)},C=e=>{A(!0),I(e)},_=e=>{j(!0),w(e)},P=async()=>{try{let e=(0,c.Cf)(n);if((await e).isSuccess){let e=await d.Z.getDataIdNonAuth(n,c.a9.API_REKRUTMEN_GET_NON_AUTH);if(e.data){let a={...e.data,isCompletedData:!0};x(a),(await d.Z.postNonAuth(u,c.a9.API_REKRUTMEN_SAVE_NON_AUTH)).status?g().fire({icon:"success",title:"Berhasil menyimpan data",confirmButtonText:"Selesai",text:"Terima kasih, Kami akan segera memproses lamaran sudara dan memberikan informasi lebih lanjut.<br> Klik Selesai untuk menyelesaikan pendaftaran."}).then(e=>{e.isConfirmed&&i.push("/onboardchecking")}):g().fire({icon:"error",title:"Submit Gagal",text:"Gagal menyimpan data"})}}else g().fire({icon:"error",title:"Submit Gagal",html:(await e).message})}catch(e){g().fire({icon:"error",title:"Submit Gagal",text:"Data tidak valid"}),console.error("Error saving data:",e)}},F=async()=>{t(n)};(0,s.useEffect)(()=>{n>0&&U(),u.isCompletedData&&(async()=>{await d.Z.postNonAuth(u,c.a9.API_REKRUTMEN_SAVE_NON_AUTH)})()},[u]);let U=async()=>{try{let e=(await d.Z.getListDataFilePendukungId(n,c.a9.API_REKRUTMEN_LIST_OPTIONAL_FILE_ID_NON_AUTH,"REKRUTMEN")).data.map(e=>new N.Z(e.id,e.crewingId,e.rekrutmenId,e.fileCategory,e.fileName,e.documentName,e.documentDate,e.documentValidDate,e.keterangan,e.filePath,e.fileLink,e.aktif,e.createdBy,e.createdDate,e.modifiedBy,e.modifiedDate));m(e)}catch(e){console.error("Error fetching data File Pendukung:",e)}},L=e=>{"SAVE"===e?(p(!1),b.A.success("FilePendukung berhasil tersimpan")):(j(!1),b.A.success("FilePendukung berhasil terhapus")),U()};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"p-4 max-h-screen bg-gray-100 flex flex-col overflow-x-auto",children:(0,r.jsxs)("div",{className:"flex-1 bg-white mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:[(0,r.jsx)("div",{className:" bg-gray-300 mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:(0,r.jsx)("p",{children:"Anda diwajibkan untuk upload Dokumen Medical Check Up ( MCU ) - (format .PDF)"})}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,r.jsx)("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 border text-center",children:(0,r.jsx)("button",{onClick:()=>S(0),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah File Pendukung"})}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"File Category"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Tgl. Dokumen"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Tgl. Valid Dokumen"}),(0,r.jsx)("th",{className:"px-4 py-2 border",children:"Keterangan"})]})}),(0,r.jsx)("tbody",{children:o.map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 border",children:[(0,r.jsx)("button",{onClick:()=>S(e.id),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:(0,r.jsx)(f.JIY,{size:20})}),(0,r.jsx)("button",{onClick:()=>_(e.id),className:" rounded-sm p-1 border border-red-500 hover:bg-red-600 ml-2",children:(0,r.jsx)(f.L_o,{size:20})}),(0,r.jsx)("button",{onClick:()=>C(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:(0,r.jsx)(f.U3C,{size:20})})]}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.documentName}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.documentDate?(0,c.p6)(e.documentDate.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.documentValidDate&&null!==e.documentValidDate?(0,c.p6)(e.documentValidDate.toString()):""}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm border",children:e.keterangan})]},a))})]})]})}),(0,r.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:[(0,r.jsx)("button",{onClick:F,type:"submit",className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full shadow-lg",children:"Kembali"}),(0,r.jsx)("button",{onClick:P,type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Submit Data"})]}),h&&(0,r.jsx)(K,{relasiId:n,id:k,onClose:()=>p(!1),onSubmit:()=>L("SAVE")}),y&&(0,r.jsx)(v,{modelType:"FILE PENDUKUNG",id:k,onClose:()=>j(!1),onSubmit:()=>L("DELETE")}),T&&(0,r.jsx)(E.Z,{file:null,fileLink:D||"",onClose:()=>A(!1)})]})},U=e=>{let{id:a}=e,[t,l]=(0,s.useState)(0),[n,d]=(0,s.useState)(a),[i,o]=(0,s.useState)(""),[c,m]=(0,s.useState)(!0),u=e=>{d(e),l(e=>e+1),1===t?m(!0):m(!1)},x=e=>{d(e),l(e=>e-1),1===t?(a=e,m(!0)):m(!1)};return(0,r.jsxs)("div",{className:"w-full flex flex-col md:items-center mt-2",children:[(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg flex flex-wrap justify-center md:flex-nowrap",children:[(0,r.jsx)("button",{onClick:()=>{l(0),m(!0)},className:"py-2 px-4 ".concat(0===t?"text-white bg-green-800":"text-green-800 hover:bg-green-300"," rounded-lg mx-1 my-1 ").concat(0===t?"border-b-2 border-green-800":""),children:"Data Diri"}),(0,r.jsx)("button",{onClick:()=>{l(1),m(!1)},className:"py-2 px-4 ".concat(1===t?"text-white bg-green-800":"text-green-800 hover:bg-green-300"," rounded-lg mx-1 my-1 ").concat(1===t?"border-b-2 border-green-800":""),disabled:c,children:"Pendidikan"}),(0,r.jsx)("button",{onClick:()=>{l(2),m(!1)},className:"py-2 px-4 ".concat(2===t?"text-white bg-green-800":"text-green-800 hover:bg-green-300"," rounded-lg mx-1 my-1 ").concat(2===t?"border-b-2 border-green-800":""),disabled:c,children:"Sertifikasi"}),(0,r.jsx)("button",{onClick:()=>{l(3),m(!1)},className:"py-2 px-4 ".concat(3===t?"text-white bg-green-800":"text-green-800 hover:bg-green-300"," rounded-lg mx-1 my-1 ").concat(3===t?"border-b-2 border-green-800":""),disabled:c,children:"Riwayat Pekerjaan"}),(0,r.jsx)("button",{onClick:()=>{l(4),m(!1)},className:"py-2 px-4 ".concat(4===t?"text-white bg-green-800":"text-green-800 hover:bg-green-300"," rounded-lg mx-1 my-1 ").concat(4===t?"border-b-2 border-green-800":""),disabled:c,children:"File Pendukung"})]}),(0,r.jsxs)("div",{children:[0===t&&(0,r.jsx)(p,{onNext:u,rekrutmenId:0===a?n:a}),1===t&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(T,{onNext:u,onPrevious:x,rekrutmenId:n})}),2===t&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(S,{onNext:u,onPrevious:x,rekrutmenId:n})}),3===t&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(P,{onNext:u,onPrevious:x,rekrutmenId:n})}),4===t&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(F,{onNext:u,onPrevious:x,rekrutmenId:n})})]})]})}},38351:function(e,a,t){var r=t(57437),s=t(70219),l=t(48572),n=t(2265);a.Z=e=>{let{file:a,fileLink:t,onClose:d}=e,[i,o]=(0,n.useState)(new l.Z),[c,m]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(a){let e=URL.createObjectURL(a);return m(e),()=>URL.revokeObjectURL(e)}{let e=(0,s.Z)();return(async()=>{try{if(!t)return;t=t.replaceAll("\\","/");let a=(null==e?void 0:e.substring(0,e.length-1))+t;m(a)}catch(e){console.error("Failed to create object URL:",e)}})(),()=>{c&&(console.log("Fetching PDF"),URL.revokeObjectURL(c))}}},[]),(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:(0,r.jsxs)("div",{className:"bg-white p-4 rounded shadow-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"PDF Preview"}),(0,r.jsx)("button",{onClick:d,className:"text-red-500",children:"Close"})]}),c&&(0,r.jsx)("iframe",{src:c,width:"600",height:"400",className:"mt-4"})]})})}}}]);