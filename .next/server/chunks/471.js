"use strict";exports.id=471,exports.ids=[471],exports.modules={6471:(e,a,t)=>{t.d(a,{default:()=>F});var r=t(326),s=t(7577),l=t(2157),n=t(6498),d=t(1207);class i{constructor(e=0,a="",t="",r=new Date,s=0,l="",n=new Date,d="",i=new Date){this.id=e,this.bank=a,this.currency=t,this.currencyDate=r,this.currencyRate=s,this.createdBy=l,this.createdDate=n,this.updatedBy=d,this.updatedDate=i}}let o=({elementId:e,labelValue:a,constantApi:t,required:l,defaultValue:o,onSelect:c})=>{let[m,u]=(0,s.useState)([]),[x,b]=(0,s.useState)([]),[h,g]=(0,s.useState)(""),[p,y]=(0,s.useState)(!1),[f,j]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{if("currency"===e){if(j(!0),0===x.length){let e=(await d.Z.getMasterCurrencyNonAuth()).map(e=>new i(e.id,e.bank,e.currency,e.currencyDate,e.currencyRate,e.createdBy,e.createdDate,e.updatedBy,e.updatedDate));b(e)}}else if(y(!0),0===m.length){let e=(await d.Z.getMasterByTypeNonAuth(t)).map(e=>new n.Z(e.id,e.kodeMaster,e.tipeMaster,e.textMaster));u(e)}}catch(e){console.error("Error fetching data:",e)}})()},[t,x.length,e,m]);let N=e=>{g(e.target.value),c(e.target.value)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:e,className:"block text-xs font-small text-gray-900 mb-1",children:[l?r.jsx("sup",{children:"* "}):r.jsx(r.Fragment,{}),a]}),p&&(0,r.jsxs)("select",{name:e,id:e,value:h||o,onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 rounded",required:l,children:[(0,r.jsxs)("option",{value:"",children:["--",a,"--"]}),m.map(e=>r.jsx("option",{value:e.textMaster,children:e.textMaster},e.id))]}),f&&(0,r.jsxs)("select",{name:e,id:e,value:h||o,onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5 rounded",required:l,children:[(0,r.jsxs)("option",{value:"",children:["--",a,"--"]}),x.map(e=>r.jsx("option",{value:e.currency,children:e.currency},e.id))]})]})};var c=t(9075),m=t(8758),u=t(7561),x=t(5999),b=t(8736),h=t.n(b);let g=({onNext:e,rekrutmenId:a})=>{let[t,n]=(0,s.useState)(new l.Z),[i,b]=(0,s.useState)({}),[g,p]=(0,s.useState)(null),[y,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{async function e(e){try{let e=await d.Z.getDataIdNonAuth(a,c.a9.API_REKRUTMEN_GET_NON_AUTH);n(e.data)}catch(e){x.A.error("Gagal mengambil data rekrutmen"),console.error(e)}}a>0&&0===t.id&&e(a),console.log(t);let r=(0,u.Z)();if(t.fileLink&&null===g){let e=r?.substring(0,r.length-1)+t.fileLink.replaceAll("\\","/");console.log(e),p(e)}if(t.fileLinkKTP&&null===y){let e=r?.substring(0,r.length-1)+t.fileLinkKTP.replaceAll("\\","/");console.log(e),f(e)}},[t,a,g,y]);let j=(e,a)=>{n(t=>({...t,[e]:a}))},N=e=>{let{name:a,value:t,type:r,checked:s,files:l}=e.target;n(e=>{if("tanggalLahir"===a||"tglLahirPasangan"===a||"tglLahirAnak1"===a||"tglLahirAnak2"===a||"tglLAhirAnak3"===a)return{...e,[a]:new Date(t)};if(("fotoKTP"===a||"fotoDiri"===a)&&l){let t=l[0];if(t.size>512e3)return b(e=>({...e,foto:"Ukuran file maksimal adalah 500KB"})),e;{let r=new FileReader;return"fotoDiri"===a?r.onloadend=()=>{p(r.result)}:r.onloadend=()=>{f(r.result)},r.readAsDataURL(t),b(e=>({...e,foto:void 0})),{...e,[a]:t}}}return"jenisKelamin"===a,{...e,[a]:t}})},k=(e,a)=>{n(t=>({...t,[e]:a}))},w=async()=>{try{let r=await d.Z.postNonAuth(t,c.a9.API_REKRUTMEN_SAVE_NON_AUTH);if(r.status){if(a=r.data.returnId,null!=t.fotoDiri||null!=t.fotoKTP){let a=!0;if(null!=t.fotoDiri){let e=new FormData;e.append("file",t.fotoDiri),e.append("Id",r.data.returnId),e.append("menu","REKRUTMEN"),e.append("type","PHOTO");let s=Object.fromEntries(e.entries());(await d.Z.postFotoNonAuth(s,c.a9.API_REKRUTMEN_SAVEPHOTO_NON_AUTH)).data.status||(a=!1)}if(a){if(t.fotoKTP){let a=new FormData;a.append("file",t.fotoKTP),a.append("Id",r.data.returnId),a.append("menu","REKRUTMEN"),a.append("type","KTP");let s=Object.fromEntries(a.entries());(await d.Z.postFotoNonAuth(s,c.a9.API_REKRUTMEN_SAVEPHOTO_NON_AUTH)).data.status?e(r.data.returnId):h().fire({icon:"error",title:"Oops...",text:"Gagal Upload KTP"})}else e(r.data.returnId)}else h().fire({icon:"error",title:"Oops...",text:"Gagal Upload Foto Diri"})}else""!=t.fileLink&&""!=t.fileLinkKTP?e(r.data.returnId):x.A.error("Foto diri dan KTP wajib diupload")}else h().fire({icon:"error",title:"Oops...",text:"Gagal Menyimpan Data"})}catch(e){h().fire({icon:"error",title:"Oops...",text:"Server Error"}),console.error("Error saving data:",e)}};return r.jsx("div",{children:(0,r.jsxs)("form",{action:w,children:[(0,r.jsxs)("div",{className:"container mx-auto p-4 min-h-screen bg-gray-100 flex flex-col overflow-y-auto",style:{maxHeight:"80vh"},children:[r.jsx("div",{className:"flex-1 bg-white flex items-center mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaLengkap",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Nama Lengkap"]}),r.jsx("input",{type:"text",name:"namaLengkap",id:"namaLengkap",value:t.namaLengkap||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"tempatLahir",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Tempat Lahir"]}),r.jsx("input",{type:"text",name:"tempatLahir",id:"tempatLahir",value:t.tempatLahir||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"tanggalLahir",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Tanggal Lahir"]}),r.jsx("div",{children:r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:t.tanggalLahir,onChange:e=>{k("tanggalLahir",e)},dateFormat:"dd/MM/yyyy",required:!0})})]}),r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"jenisKelamin",labelValue:"Jenis Kelamin",constantApi:c.a9.MASTER_TYPE_GENDER,required:!0,defaultValue:t.jenisKelamin||"",onSelect:e=>{j("jenisKelamin",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Email"]}),r.jsx("input",{type:"email",name:"email",id:"email",onChange:N,value:t.email||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"noTelepon",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Telp. / Hp."]}),r.jsx("input",{type:"number",name:"noTelepon",id:"noTelepon",onChange:N,value:t.noTelepon||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"agama",labelValue:"Agama",constantApi:c.a9.MASTER_TYPE_RELIGION,required:!1,defaultValue:t.agama||"",onSelect:e=>{j("agama",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"suku",className:"block text-xs font-small text-gray-900 mb-1",children:"Suku"}),r.jsx("input",{type:"text",name:"suku",id:"suku",onChange:N,value:t.suku||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"golonganDarah",className:"block text-xs font-small text-gray-900 mb-1",children:"GolonganDarah"}),r.jsx("input",{type:"text",name:"golonganDarah",id:"golonganDarah",onChange:N,value:t.golonganDarah||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"appliedPositon",labelValue:"Posisi Yang Ingin Dilamar",constantApi:c.a9.MASTER_TYPE_CREW_LVL,required:!0,defaultValue:t.appliedPosition||"",onSelect:e=>{j("appliedPosition",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"silverCode",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Kode Pelaut"]}),r.jsx("input",{type:"text",name:"silverCode",id:"silverCode",onChange:N,value:t.silverCode||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"nomorKartuKeluarga",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Nomor Kartu Keluarga"]}),r.jsx("input",{type:"text",name:"nomorKartuKeluarga",id:"nomorKartuKeluarga",onChange:N,value:t.nomorKartuKeluarga||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"nomorKTP",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Nomor KTP"]}),r.jsx("input",{type:"text",name:"nomorKTP",id:"nomorKTP",onChange:N,value:t.nomorKTP||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"alamatDiKTP",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Alamat KTP"]}),r.jsx("input",{type:"text",name:"alamatDiKTP",id:"alamatDiKTP",onChange:N,value:t.alamatDiKTP||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"kotaDiKTP",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Kota Di KTP"]}),r.jsx("input",{type:"text",name:"kotaDiKTP",id:"kotaDiKTP",onChange:N,value:t.kotaDiKTP||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"namaBank",labelValue:"Bank",constantApi:c.a9.MASTER_TYPE_BANK,required:!1,defaultValue:t.namaBank||"",onSelect:e=>{j("namaBank",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"noRekening",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"No Rekening"]}),r.jsx("input",{type:"text",name:"noRekening",id:"noRekening",onChange:N,value:t.noRekening||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaPemilikRekening",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Nama Pemilik Rekening"]}),r.jsx("input",{type:"text",name:"namaPemilikRekening",id:"namaPemilikRekening",onChange:N,value:t.namaPemilikRekening||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"npwp",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"NPWP"]}),r.jsx("input",{type:"text",name:"npwp",id:"npwp",onChange:N,value:t.npwp||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"statusPajak",labelValue:"Status Pernikahan",constantApi:c.a9.MASTER_TYPE_TAX_STATUS,required:!1,defaultValue:t.statusPajak||"",onSelect:e=>{j("statusPajak",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"bpjsKesehatan",className:"block text-xs font-small text-gray-900 mb-1",children:"BPJS Kesehatan"}),r.jsx("input",{type:"text",name:"bpjsKesehatan",id:"bpjsKesehatan",onChange:N,value:t.bpjsKesehatan||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"bpjstk",className:"block text-xs font-small text-gray-900 mb-1",children:"BPJS TK"}),r.jsx("input",{type:"text",name:"bpjstk",id:"bpjstk",onChange:N,value:t.bpjstk||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:""})]}),(0,r.jsxs)("div",{className:"bg-white rounded-sm shadow p-8 mb-2",children:[g&&r.jsx("div",{className:"mt-4 mb-3",children:r.jsx("img",{src:g,alt:"Selected Preview",width:160,height:0,className:"rounded-lg shadow-md"})}),r.jsx("label",{htmlFor:"file-upload-foto",className:"cursor-pointer bg-yellow-600 text-white px-3 py-1 rounded-lg shadow-lg tracking-wide border border-green-800 hover:bg-yellow-400",children:"Upload Foto Diri"}),r.jsx("input",{id:"file-upload-foto",type:"file",name:"fotoDiri",accept:"image/*",onChange:N,className:"hidden"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-sm shadow p-8 mb-2",children:[y&&r.jsx("div",{className:"mt-4 mb-3",children:r.jsx("img",{src:y,alt:"Selected Preview",width:160,height:0,className:"rounded-lg shadow-md"})}),r.jsx("label",{htmlFor:"file-upload-ktp",className:"cursor-pointer bg-yellow-600 text-white px-3 py-1 rounded-lg shadow-lg tracking-wide border border-green-800 hover:bg-yellow-400",children:"Upload Foto KTP"}),r.jsx("input",{id:"file-upload-ktp",type:"file",name:"fotoKTP",accept:"image/*",onChange:N,className:"hidden"})]})]})]})}),r.jsx("div",{className:"flex-1 bg-white mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaAyahKandung",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Nama Ayah Kandung"]}),r.jsx("input",{type:"text",name:"namaAyahKandung",id:"namaAyahKandung",value:t.namaAyahKandung||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaIbuKandung",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Nama Ibu Kandung"]}),r.jsx("input",{type:"text",name:"namaIbuKandung",id:"namaIbuKandung",value:t.namaIbuKandung||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md"})]})}),r.jsx("div",{className:"flex-1 bg-white mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"namaPasangan",className:"block text-xs font-small text-gray-900 mb-1",children:"Nama Suami / Istri"}),r.jsx("input",{type:"text",name:"namaPasangan",id:"namaPasangan",value:t.namaPasangan||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"tglLahirPasangan",className:"block text-xs font-small text-gray-900 mb-1",children:"Tgl. Lahir Suami / Istri"}),r.jsx("div",{children:r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:t.tglLahirPasangan,onChange:e=>{k("tglLahirPasangan",e)},dateFormat:"dd/MM/yyyy"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md"})]})}),r.jsx("div",{className:"flex-1 bg-white mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"namaAnak1",className:"block text-xs font-small text-gray-900 mb-1",children:"Nama Anak 1"}),r.jsx("input",{type:"text",name:"namaAnak1",id:"namaAnak1",value:t.namaAnak1||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"namaAnak2",className:"block text-xs font-small text-gray-900 mb-1",children:"Nama Anak 2"}),r.jsx("input",{type:"text",name:"namaAnak2",id:"namaAnak2",value:t.namaAnak2||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"namaAnak3",className:"block text-xs font-small text-gray-900 mb-1",children:"Nama Anak 3"}),r.jsx("input",{type:"text",name:"namaAnak3",id:"namaAnak3",value:t.namaAnak3||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"tglLahirAnak1",className:"block text-xs font-small text-gray-900 mb-1",children:"Tgl. Lahir Anak 1"}),r.jsx("div",{children:r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:t.tglLahirAnak1,onChange:e=>{k("tglLahirAnak1",e)},dateFormat:"dd/MM/yyyy"})})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"tglLahirAnak2",className:"block text-xs font-small text-gray-900 mb-1",children:"Tgl. Lahir Anak 2"}),r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:t.tglLahirAnak2,onChange:e=>{k("tglLahirAnak2",e)},dateFormat:"dd/MM/yyyy"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"tglLahirAnak3",className:"block text-xs font-small text-gray-900 mb-1",children:"Tgl. Lahir Anak 3"}),r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:t.tglLahirAnak3||null,onChange:e=>{k("tglLahirAnak3",e)},dateFormat:"dd/MM/yyyy"})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"pendidikanAnak1",className:"block text-xs font-small text-gray-900 mb-1",children:"Pendidikan Anak 1"}),r.jsx("input",{type:"text",name:"pendidikanAnak1",id:"pendidikanAnak1",value:t.pendidikanAnak1||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"pendidikanAnak2",className:"block text-xs font-small text-gray-900 mb-1",children:"Pendidikan Anak 2"}),r.jsx("input",{type:"text",name:"pendidikanAnak2",id:"pendidikanAnak2",value:t.pendidikanAnak2||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{htmlFor:"pendidikanAnak3",className:"block text-xs font-small text-gray-900 mb-1",children:"Pendidikan Anak 3"}),r.jsx("input",{type:"text",name:"pendidikanAnak3",id:"pendidikanAnak3",value:t.pendidikanAnak3||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]})]})]})}),r.jsx("div",{className:"flex-1 bg-white mb-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaKontakDarurat",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Nama Kontak Darurat"]}),r.jsx("input",{type:"text",name:"namaKontakDarurat",id:"namaKontakDarurat",value:t.namaKontakDarurat||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"namaKontakDarurat2",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Nama Kontak Darurat 2"]}),r.jsx("input",{type:"text",name:"namaKontakDarurat2",id:"namaKontakDarurat2",value:t.namaKontakDarurat2||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"hubunganKontakDarurat",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Hubungan Kontak Darurat"]}),r.jsx("input",{type:"text",name:"hubunganKontakDarurat",id:"hubunganKontakDarurat",value:t.hubunganKontakDarurat||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"hubunganKontakDarurat2",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"Hubungan Kontak Darurat 2"]}),r.jsx("input",{type:"text",name:"hubunganKontakDarurat2",id:"hubunganKontakDarurat2",value:t.hubunganKontakDarurat2||"",onChange:N,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"noTelpKontakDarurat",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"No. Telp. Kontak Darurat"]}),r.jsx("input",{type:"number",name:"noTelpKontakDarurat",id:"noTelpKontakDarurat",onChange:N,value:t.noTelpKontakDarurat||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("label",{htmlFor:"noTelpKontakDarurat2",className:"block text-xs font-small text-gray-900 mb-1",children:[r.jsx("sup",{children:"* "}),"No. Telp. Kontak Darurat 2"]}),r.jsx("input",{type:"number",name:"noTelpKontakDarurat2",id:"noTelpKontakDarurat2",onChange:N,value:t.noTelpKontakDarurat2||"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]})]})]})})]}),r.jsx("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:r.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Simpan & Lanjutkan"})})]})})};class p{constructor(e=0,a=0,t=0,r="",s="",l="",n="",d,i="",o,c="",m,u=!1,x="",b=""){this.id=e,this.employeeId=a,this.rekrutmenId=t,this.pendidikan=r,this.jurusan=s,this.namaInstitusi=l,this.kota=n,this.tglSelesai=d??null,this.createdBy=i,this.createdTime=o??null,this.modifiedBy=c,this.modifiedTime=m??null,this.aktif=u,this.mode=x,this.menuForm=b}}var y=t(9033);t(2094);let f=({relasiId:e,Id:a,onClose:t,onSubmit:l})=>{let[n,i]=(0,s.useState)(new p),[u,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{a>0&&0===n.id?t(a):n.rekrutmenId=e;async function t(e){try{let a=await d.Z.getDataByIdNonAuth(e,c.a9.API_REKRUTMEN_GET_EDUCATION_ID_NON_AUTH);i(a)}catch(e){x("Gagal mengambil data pendidikan"),console.error(e)}}},[a,n,e]);let b=e=>{let{name:a,value:t}=e.target;i(e=>"tglSelesai"===a?{...e,[a]:new Date(t)}:{...e,[a]:t})},h=(e,a)=>{"tglSelesai"===e&&i({...n,tglSelesai:a})},g=async a=>{if(a.preventDefault(),a.currentTarget.checkValidity()){n.id>0?(n.aktif=!0,n.mode="EDIT"):(n.rekrutmenId=e,n.modifiedTime=void 0,n.mode="CREATE"),n.menuForm="REKRUTMEN",n.employeeId=n.employeeId?n.employeeId:void 0;try{let e=await d.Z.postNonAuth(n,c.a9.API_REKRUTMEN_SAVE_EDUCATION_NON_AUTH);if("OK"===e.data.status)l();else throw Error("Failed to save data")}catch(e){console.error("Error saving data:",u)}}};return r.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:r.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Pendidikan"}),(0,r.jsxs)("form",{onSubmit:g,children:[r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"pendidikan",labelValue:"Pendidikan",constantApi:c.a9.MASTER_TYPE_PENDIDIKAN,required:!0,defaultValue:n.pendidikan||"",onSelect:e=>{i({...n,pendidikan:e})}})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Jurusan"]}),r.jsx("input",{type:"text",name:"jurusan",value:n.jurusan,onChange:b,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Institusi"]}),r.jsx("input",{type:"text",name:"namaInstitusi",value:n.namaInstitusi,onChange:b,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Kota"]}),r.jsx("input",{type:"text",name:"kota",value:n.kota,onChange:b,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Tahun Selesai"]}),r.jsx("div",{children:r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",selected:n.tglSelesai,onChange:e=>{h("tglSelesai",e)},dateFormat:"dd/MM/yyyy",name:"tglSelesai",required:!0})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-500 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Simpan"}),r.jsx("button",{type:"button",onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})]})})};var j=t(2576);class N{constructor(e=0,a=0,t="",r,s,l="",n="",d="",i="",o="",c="",m="",u=0,x="",b,h="",g,p=0,y="",f="",j="",N="",k=null){this.id=e,this.employeeId=a,this.perusahaan=t,this.tanggal=r??null,this.tanggalSelesai=s??null,this.status=l,this.kapal=n,this.gtKapal=d,this.jabatan=i,this.alasanOff=o,this.keterangan=c,this.currency=m,this.gajiTerakhir=u,this.createdBy=x,this.createdTime=b??null,this.modifiedBy=h,this.modifiedTime=g??null,this.rekrutmenId=p,this.fileName=y,this.filePath=f,this.fileLink=j,this.mode=N,this.fileDoc=k}}var k=t(2509);let w=({id:e,modelType:a,onSubmit:t,onClose:l})=>{let[n,i]=(0,s.useState)(new p),[o,m]=(0,s.useState)(new j.Z),[u,b]=(0,s.useState)(new k.Z),[h,g]=(0,s.useState)(new N),[y,f]=(0,s.useState)();(0,s.useEffect)(()=>{"PENDIDIKAN"===a&&e>0&&0===n.id?t(e,a,c.a9.API_REKRUTMEN_GET_EDUCATION_ID_NON_AUTH):"RIWAYAT PEKERJAAN"===a&&e>0&&0===h.id?t(e,a,c.a9.API_REKRUTMEN_GET_RIWAYAT_PEKERJAAN_ID_NON_AUTH):"SERTIFIKAT"===a&&e>0&&0===u.id?t(e,a,c.a9.API_REKRUTMEN_GET_CERTIFICATE_ID_NON_AUTH):"FILE PENDUKUNG"===a&&e>0&&0===o.id&&t(e,a,c.a9.API_REKRUTMEN_GET_OPTIONAL_FILE_ID_NON_AUTH);async function t(e,a,t){try{if("PENDIDIKAN"===a){let a=await d.Z.getDataEducationId(e);i(a),f(n.pendidikan)}else if("RIWAYAT PEKERJAAN"===a){let a=await d.Z.getDataByIdNonAuth(e,t);console.log(a),g(a),f(h.kapal)}else if("SERTIFIKAT"===a){let a=await d.Z.getDataByIdNonAuth(e,t);b(a),f(u.certificateName)}else if("FILE PENDUKUNG"===a){let a=await d.Z.getDataByIdNonAuth(e,t);m(a),f(o.documentName)}}catch(e){x.A.error("Gagal mengambil data "+a),console.error(e)}}},[o.documentName,o.id,e,a,n.id,n.pendidikan,h.id,h.kapal,u.certificateName,u.id]);let w=async()=>{let e="";try{"PENDIDIKAN"===a?(n.mode="DELETE",e=(await d.Z.postNonAuth(n,c.a9.API_REKRUTMEN_SAVE_EDUCATION_NON_AUTH)).data.status):"RIWAYAT PEKERJAAN"===a?(h.mode="DELETE",e=(await d.Z.postNonAuth(h,c.a9.API_REKRUTMEN_SAVE_RIWAYAT_NON_AUTH)).data.status):"SERTIFIKAT"===a?(u.mode="DELETE",e=(await d.Z.postNonAuth(u,c.a9.API_REKRUTMEN_SAVE_CERTIFICATE_NON_AUTH)).data.status):(o.mode="DELETE",e=(await d.Z.postNonAuth(o,c.a9.API_REKRUTMEN_SAVE_OPTIONAL_FILE_NON_AUTH)).data.status),"OK"===e?t():x.A.error("Gagal menghapus data "+y)}catch(e){x.A.error("Error saving data:"),console.error("Error saving data:",e)}finally{}};return r.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:r.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,r.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,r.jsxs)("h2",{className:"text-xl font-bold",children:["Yakin menghapus data ",y," ini ?"]})}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsx("button",{type:"button",onClick:w,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-orange-500 text-base font-medium text-white hover:bg-orange-200 sm:ml-3 sm:w-auto sm:text-sm",children:"Ya"}),r.jsx("button",{type:"button",onClick:l,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})},v=({onNext:e,onPrevious:a,rekrutmenId:t})=>{let[l,n]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[m,u]=(0,s.useState)(0),[b,h]=(0,s.useState)(!1),g=e=>{o(!0),u(e)},j=e=>{h(!0),u(e)},N=async()=>{e(t)},k=async()=>{a(t)};(0,s.useEffect)(()=>{t>0&&v()},[]);let v=async()=>{try{let e=(await d.Z.getListDataById(t,c.a9.API_REKRUTMEN_LIST_EDUCATIONS_ID_NON_AUTH,"REKRUTMEN")).data.map(e=>new p(e.id,e.employeeId,e.rekrutmenId,e.pendidikan,e.jurusan,e.namaInstitusi,e.kota,e.tglSelesai,e.createdBy,e.createdTime,e.modifiedBy,e.modifiedTime,e.aktif));n(e)}catch(e){console.error("Error fetching data:",e)}},T=e=>{"SAVE"===e?(o(!1),x.A.success("Pendidikan berhasil tersimpan")):(h(!1),x.A.error("Pendidikan berhasil terhapus")),v()};return(0,r.jsxs)("div",{children:[r.jsx("div",{className:" p-4 bg-gray-100 ",children:r.jsx("div",{className:"bg-white mb-2 p-6 rounded-lg shadow-md overflow-y-auto",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[r.jsx("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-4 py-2 border text-center tracking-wider sm:table-cell",children:r.jsx("button",{onClick:()=>g(0),className:" bottom-4 right-4 px-4 py-2  bg-green-800 text-white rounded-full shadow-lg hover:bg-green-500",children:"Tambah Pendidikan"})}),r.jsx("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Pendidikan"}),r.jsx("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Jurusan"}),r.jsx("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Nama Institusi"}),r.jsx("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Kota"}),r.jsx("th",{className:"px-4 py-2 border tracking-wider sm:table-cell",children:"Tanggal Selesai"})]})}),r.jsx("tbody",{children:l.filter(e=>!0===e.aktif).map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm border",children:[r.jsx("button",{onClick:()=>g(e.id),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:r.jsx(y.JIY,{size:20})}),r.jsx("button",{onClick:()=>j(e.id),className:"ml-2 rounded-sm p-1 border border-red-500 hover:bg-red-600",children:r.jsx(y.L_o,{size:20})})]}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.pendidikan}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.jurusan}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.namaInstitusi}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.kota}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.tglSelesai?(0,c.p6)(e.tglSelesai.toString()):""})]},a))})]})})}),(0,r.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:[r.jsx("button",{onClick:k,type:"submit",className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full shadow-lg",children:"Kembali"}),r.jsx("button",{onClick:N,type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Simpan & Lanjutkan"})]}),i&&r.jsx(f,{relasiId:t,Id:m,onClose:()=>o(!1),onSubmit:()=>T("SAVE")}),b&&r.jsx(w,{modelType:"PENDIDIKAN",id:m,onClose:()=>h(!1),onSubmit:()=>T("DELETE")})]})};var T=t(1605),A=t(4587);let E=({relasiId:e,Id:a,typeDoc:t,onClose:l,onSubmit:n})=>{let[i,u]=(0,s.useState)(new k.Z),[b,h]=(0,s.useState)(!1),[g,p]=(0,s.useState)(!1),[y,f]=(0,s.useState)(!1),[j,N]=(0,s.useState)(),[w,v]=(0,s.useState)(0);(0,s.useEffect)(()=>{async function r(e){try{let a=await d.Z.getDataByIdNonAuth(e,c.a9.API_REKRUTMEN_GET_CERTIFICATE_ID_NON_AUTH);u(a)}catch(e){x.A.error("Gagal mengambil data Sertifikat"),console.error(e)}}"Travel Document"===t?(p(!0),N(c.a9.MASTER_TYPE_TRAVEL_DOC)):"Certificate Of Competency"===t?N(c.a9.MASTER_TYPE_CERTIFICATE_COMPETENCY_DOC):N(c.a9.MASTER_TYPE_CERTIFICATE_PROFICIENCY_DOC),a>0&&0===i.id?r(a):i.rekrutmenId=e},[a,i,e,t]);let E=e=>{let{name:a,value:t,files:r}=e.target;u(e=>{if("fileDoc"!==a||!r)return{...e,[a]:t};{let t=r[0];return t.size>512e3?(x.A.error("Ukuran file maksimal adalah 500KB"),e):{...e,[a]:t,fileName:t.name}}})},D=e=>{v(e),i.certificateDate&&(i.certificateValidTo=(0,T.B)(i.certificateDate,e))},I=(e,a)=>{"certificateDate"===e?(u({...i,certificateDate:a}),w>0&&u({...i,certificateValidTo:(0,T.B)(a,w)})):"certificateValidTo"===e&&u({...i,certificateValidTo:a})},S=async a=>{if(a.preventDefault(),a.currentTarget.checkValidity()){i.id>0?(i.aktif=!0,i.mode="EDIT"):(i.rekrutmenId=e,i.modifiedTime=void 0,i.mode="CREATE"),i.docCategory=t,i.certificateName=i.certificateName?i.certificateName:i.docType,i.employeeId=i.employeeId?i.employeeId:void 0;try{let e=await d.Z.postNonAuth(i,c.a9.API_REKRUTMEN_SAVE_CERTIFICATE_NON_AUTH);if("OK"===e.data.status&&i.rekrutmenId){if(!i.fileDoc)return;let a=new FormData;a.append("file",i.fileDoc),a.append("certId",e.data.returnId),a.append("crewId",i.rekrutmenId.toString()),a.append("menuForm","REKRUTMEN");let t=await d.Z.postDocNonAuth(a,c.a9.API_REKRUTMEN_SAVE_CERTIFICATE_DOC_NON_AUTH);if("OK"===t.data.status)n();else throw Error("Failed to save data")}else x.A.error("Sertifikat gagal tersimpan"),console.error("Error saving data:",e.data.message)}catch(e){console.error("Error saving data:",e),x.A.error("Error saving data:")}}};return(0,r.jsxs)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:r.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Sertifikat"}),(0,r.jsxs)("form",{onSubmit:S,children:[r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"docType",labelValue:"Tipe Dokumen / Sertifikat",constantApi:j||"",required:!0,defaultValue:i.docType||"",onSelect:e=>{u({...i,docType:e}),"OTHERS"===e&&f(!0)}})}),y&&(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("label",{children:"Nama Sertifikat"}),r.jsx("input",{type:"text",name:"certificateName",value:i.certificateName,onChange:E,required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"No Sertifikat"]}),r.jsx("input",{type:"text",name:"certificateNo",value:i.certificateNo,onChange:E,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),g&&(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("label",{children:"Tempat Pembuatan"}),r.jsx("input",{type:"text",name:"issuers",value:i.issuers,onChange:E,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Tgl. Sertifikat / Dokumen"]}),r.jsx("div",{children:r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",selected:i.certificateDate,onChange:e=>{I("certificateDate",e)},dateFormat:"dd/MM/yyyy",name:"certificateDate",required:!0})})]}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("input",{type:"checkbox",id:"5years",checked:5===w,onChange:()=>D(5)}),r.jsx("label",{htmlFor:"5years",children:"Berlaku 5 Tahun"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("input",{type:"checkbox",id:"10years",checked:10===w,onChange:()=>D(10)}),r.jsx("label",{htmlFor:"10years",children:"Berlaku 10 Tahun"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Tgl. Expired Sertifikat / Dokumen"]}),r.jsx("div",{children:r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",selected:i.certificateValidTo,onChange:e=>{I("certificateValidTo",e)},dateFormat:"dd/MM/yyyy",name:"certificateValidTo",required:!0})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Upload File"]}),r.jsx("input",{type:"text",name:"fileName",value:i.fileName,onChange:E,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",readOnly:!0,placeholder:"Klik button Upload File (format file .pdf)",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("input",{type:"file",accept:"application/pdf",onChange:E,className:"hidden",id:"pdf-upload",name:"fileDoc"}),r.jsx("label",{htmlFor:"pdf-upload",className:"mr-1 px-3 py-1 bg-green-700 text-white rounded cursor-pointer",children:"Upload File"}),r.jsx("input",{type:"button",onClick:()=>{h(!0)},id:"pdf-view"}),r.jsx("label",{htmlFor:"pdf-view",className:"ml-1 px-3 py-1 bg-yellow-600 text-white rounded cursor-pointer",children:"View File"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("label",{children:"Keterangan"}),r.jsx("input",{type:"text",name:"keterangan",value:i.keterangan,onChange:E,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-500 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Simpan"}),r.jsx("button",{type:"button",onClick:l,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})]}),b&&r.jsx(A.Z,{file:i.fileDoc,fileLink:i.fileLink||"",onClose:()=>h(!1)})]})},D=({note:e})=>{let a=e.split("\n").filter(e=>""!==e.trim());return r.jsx("div",{children:a.map((e,a)=>r.jsx("p",{children:e},a))})},I=({onNext:e,onPrevious:a,rekrutmenId:t})=>{let[n,i]=(0,s.useState)([]),[o,m]=(0,s.useState)(new l.Z),[u,b]=(0,s.useState)(!1),[h,g]=(0,s.useState)(0),[p,f]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1),[v,T]=(0,s.useState)(!1),[I,S]=(0,s.useState)(null),[C,_]=(0,s.useState)(""),P=`
 * Sertifikat AFF - Advanced Fire Fighting ( Format .pdf).`,K=`
 * Sertifikat BST - Basic Safety Training ( Format .pdf).`,R=`
 * Sertifikat ORU - Sertifikat Keahlian Operator RADIO GMDSS (Format .pdf).`,F=`
 * Sertifikat SCRB - Proficiency in Survival Craft And Rescue Boats (Format .pdf).`,U=(e,a)=>{b(!0),g(e),f(a)},L=e=>{N(!0),g(e)},O=async()=>{e(t)},M=e=>{T(!0),S(e)},V=async()=>{a(t)};(0,s.useEffect)(()=>{async function e(e){try{let e=await d.Z.getDataIdNonAuth(t,c.a9.API_REKRUTMEN_GET_NON_AUTH);m(e.data)}catch(e){x.A.error("Gagal mengambil data rekrutmen"),console.error(e)}}t>0&&Z(),t>0&&0===o.id&&e(t);let a=" Berikut ini beberapa dokumen yang wajib anda upload :";a+=P+K,console.log(o.appliedPosition),("NAKHODA"==o.appliedPosition||"MUALIM I"==o.appliedPosition||"MUALIM II"==o.appliedPosition||"MUALIM III"==o.appliedPosition||"KKM"==o.appliedPosition)&&(a+=R),"NAKHODA"==o.appliedPosition&&(a+=F),console.log(a),console.log(a.split("\n").filter(e=>""!==e.trim())),_(a)},[P,K,R,F,o.appliedPosition,o.id,t]);let Z=async()=>{try{let e=(await d.Z.getListDataById(t,c.a9.API_REKRUTMEN_LIST_CERTIFICATES_ID_NON_AUTH,"REKRUTMEN")).data.map(e=>new k.Z(e.id,e.employeeId,e.rekrutmenId,e.certificateName,e.certificateNo,e.issuers,e.certificateDate,e.certificateValidTo,e.createdBy,e.createdTime,e.modifiedBy,e.modifiedTime,e.aktif,e.fileName,e.fIlePath,e.fileLink,e.docType,e.docCategory,e.keterangan));i(e)}catch(e){console.error("Error fetching data:",e)}},B=e=>{"SAVE"===e?(b(!1),x.A.success("Sertifikat berhasil tersimpan")):(N(!1),x.A.error("Sertifikat berhasil terhapus")),Z()};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:" p-4 bg-gray-100  overflow-x-auto max-h-screen",children:[(0,r.jsxs)("div",{className:" bg-white mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:[r.jsx("h2",{className:"text-md mb-2 ml-2 font-bold",children:"Travel Dokumen"}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 p-4 ",children:[r.jsx("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-2 border text-center",children:r.jsx("button",{onClick:()=>U(0,"Travel Document"),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah Sertifikat"})}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Nama Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"No Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Tgl. Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Oleh"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Pada"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Diubah Oleh"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Diubah Pada"})]})}),r.jsx("tbody",{children:n.filter(e=>"Travel Document"==e.docCategory).map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm border",children:[r.jsx("button",{onClick:()=>U(e.id,"Travel Document"),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:r.jsx(y.JIY,{size:20})})," ",r.jsx("button",{onClick:()=>L(e.id),className:"ml-2 rounded-sm p-1 border border-red-500 hover:bg-red-600",children:r.jsx(y.L_o,{size:20})}),r.jsx("button",{onClick:()=>M(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:r.jsx(y.U3C,{size:20})})]}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateName}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateNo}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateDate?(0,c.p6)(e.certificateDate.toString()):""}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.createdBy}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.createdTime?(0,c.p6)(e.createdTime.toString()):""}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.modifiedBy}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.modifiedTime?(0,c.p6)(e.modifiedTime.toString()):""})]},e.id))})]})]}),(0,r.jsxs)("div",{className:" bg-white mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:[r.jsx("h2",{className:"text-md mb-2 ml-2 font-bold",children:"Certificate Of Competency"}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 p-4",children:[r.jsx("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-2 border text-center",children:r.jsx("button",{onClick:()=>U(0,"Certificate Of Competency"),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah Sertifikat"})}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Nama Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"No Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Tgl. Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Oleh"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Pada"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Diubah Oleh"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Diubah Pada"})]})}),r.jsx("tbody",{children:n.filter(e=>"Certificate Of Competency"==e.docCategory).map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm border",children:[r.jsx("button",{onClick:()=>U(e.id,"Certificate Of Competency"),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:r.jsx(y.JIY,{size:20})}),r.jsx("button",{onClick:()=>L(e.id),className:" rounded-sm p-1 border border-red-500 hover:bg-red-600 ml-2",children:r.jsx(y.L_o,{size:20})}),r.jsx("button",{onClick:()=>M(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:r.jsx(y.U3C,{size:20})})]}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateName}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateNo}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateDate?(0,c.p6)(e.certificateDate.toString()):""}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.createdBy}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.createdTime?(0,c.p6)(e.createdTime.toString()):""}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.modifiedBy}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.modifiedTime?(0,c.p6)(e.modifiedTime.toString()):""})]},e.id))})]})]}),(0,r.jsxs)("div",{className:" bg-white mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:[r.jsx("h2",{className:"text-md mb-2 ml-2 font-bold",children:"Certificate Of Proficiency"}),r.jsx("div",{className:" bg-gray-300 mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:r.jsx(D,{note:C})}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 p-4",children:[r.jsx("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-2 border text-center",children:r.jsx("button",{onClick:()=>U(0,"Certificate Of Proficiency"),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah Sertifikat"})}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Nama Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"No Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Tgl. Sertifikat"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Oleh"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Dibuat Pada"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Diubah Oleh"}),r.jsx("th",{className:"px-4 py-2 text-sm border",children:"Diubah Pada"})]})}),r.jsx("tbody",{children:n.filter(e=>"Certificate Of Proficiency"==e.docCategory).map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm border",children:[r.jsx("button",{onClick:()=>U(e.id,"Certificate Of Proficiency"),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:r.jsx(y.JIY,{size:20})}),r.jsx("button",{onClick:()=>L(e.id),className:" rounded-sm p-1 border border-red-500 hover:bg-red-600 ml-2",children:r.jsx(y.L_o,{size:20})}),r.jsx("button",{onClick:()=>M(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:r.jsx(y.U3C,{size:20})})]}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateName}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateNo}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.certificateDate?(0,c.p6)(e.certificateDate.toString()):""}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.createdBy}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.createdTime?(0,c.p6)(e.createdTime.toString()):""}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.modifiedBy}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.modifiedTime?(0,c.p6)(e.modifiedTime.toString()):""})]},e.id))})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:[r.jsx("button",{onClick:V,type:"submit",className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full shadow-lg",children:"Kembali"}),r.jsx("button",{onClick:O,type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Simpan & Lanjutkan"})]}),u&&r.jsx(E,{relasiId:t,Id:h,onClose:()=>b(!1),onSubmit:()=>B("SAVE"),typeDoc:p||""}),j&&r.jsx(w,{modelType:"SERTIFIKAT",id:h,onClose:()=>N(!1),onSubmit:()=>B("DELETE")}),v&&r.jsx(A.Z,{file:null,fileLink:I||"",onClose:()=>T(!1)})]})};var S=t(7184);let C=({relasiId:e,id:a,onClose:t,onSubmit:l})=>{let[n,i]=(0,s.useState)(new N),[u,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a>0&&0===n.id?t(a):n.rekrutmenId=e;async function t(e){try{let a=await d.Z.getDataByIdNonAuth(e,c.a9.API_REKRUTMEN_GET_RIWAYAT_PEKERJAAN_ID_NON_AUTH);i(a)}catch(e){x.A.error("Gagal fetch data Riwayat Pekerjaan"),console.error(e)}}},[a,n,e]);let h=e=>{let{name:a,value:t,files:r}=e.target;i(e=>{if("fileDoc"!==a||!r)return{...e,[a]:t};{let t=r[0];return t.size>512e3?(x.A.error("Ukuran file maksimal adalah 500KB"),e):{...e,[a]:t,fileName:t.name}}})},g=(e,a)=>{"tanggal"===e?i({...n,tanggal:a}):i({...n,tanggalSelesai:a})},p=(e,a)=>{"jabatan"===e?i({...n,jabatan:a}):i({...n,currency:a})},y=(e,a)=>{i({...n,gajiTerakhir:parseFloat(a)})},f=async a=>{if(a.preventDefault(),a.currentTarget.checkValidity()){n.id>0?n.mode="EDIT":(n.rekrutmenId=e,n.mode="CREATE",n.modifiedTime=void 0,n.createdTime=new Date),n.menuForm="REKRUTMEN",n.employeeId=n.employeeId?n.employeeId:void 0,console.log(n);try{let e=await d.Z.postNonAuth(n,c.a9.API_REKRUTMEN_SAVE_RIWAYAT_NON_AUTH);if(console.log(e),"OK"===e.data.status&&n.rekrutmenId){if(!n.fileDoc)return;let a=new FormData;a.append("file",n.fileDoc),a.append("riwayatId",e.data.returnId),a.append("rekId",n.rekrutmenId.toString()),a.append("menuForm","REKRUTMEN");let t=await d.Z.postDocNonAuth(a,c.a9.API_REKRUTMEN_SAVE_RIWAYAT_DOC_NON_AUTH);if("OK"===t.data.status)l();else throw Error("Failed to save data")}else x.A.error("Sertifikat gagal tersimpan"),console.error("Error saving data:",e.data.message)}catch(e){x.A.error("Server gagal menyimpan"),console.error("Error saving data:",e)}}};return(0,r.jsxs)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:r.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Riwayat Pekerjaan"}),(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Perusahaan"]}),r.jsx("input",{type:"text",name:"perusahaan",value:n.perusahaan||"",onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",placeholder:"",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Kapal"]}),r.jsx("input",{type:"text",name:"kapal",value:n.kapal,onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("label",{children:"GT Kapal"}),r.jsx("input",{type:"text",name:"gtKapal",value:n.gtKapal,onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"jabatan",labelValue:"Jabatan",constantApi:c.a9.MASTER_TYPE_CREW_LVL,required:!0,defaultValue:n.jabatan||"",onSelect:e=>{p("jabatan",e)}})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Alasan Off"]}),r.jsx("input",{type:"text",name:"alasanOff",value:n.alasanOff,onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",required:!0})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Tgl. Mulai"]}),r.jsx("div",{children:r.jsx(m.ZP,{popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:n.tanggal,onChange:e=>{g("tanggal",e)},dateFormat:"dd/MM/yyyy",name:"tanggal",required:!0})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("label",{children:"Tgl. Selesai"}),r.jsx("div",{children:r.jsx(m.ZP,{popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",selected:n.tanggalSelesai,onChange:e=>{g("tanggalSelesai",e)},dateFormat:"dd/MM/yyyy",name:"tanggalSelesai"})})]}),r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"currency",labelValue:"Currency",constantApi:c.a9.MASTER_CURRENCY_NON_AUTH,required:!1,defaultValue:n.currency||"",onSelect:e=>{p("currency",e)}})}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("label",{children:"Gaji Terakhir"}),r.jsx("div",{children:r.jsx(S.ZP,{id:"gajiTerakhir",name:"gajiTerakhir",placeholder:"Masukan Angka",className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",decimalsLimit:2,value:n.gajiTerakhir,onValueChange:(e,a,t)=>y(a||"",e||"")})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("label",{children:"Surat Sign Off"}),r.jsx("input",{type:"text",name:"fileName",value:n.fileName,onChange:h,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",readOnly:!0,placeholder:"Klik button Upload File untuk upload surat sign off (format file .pdf)"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("input",{type:"file",accept:"application/pdf",onChange:h,className:"hidden",id:"pdf-upload",name:"fileDoc"}),r.jsx("label",{htmlFor:"pdf-upload",className:"mr-1 px-3 py-1 bg-green-700 text-white rounded cursor-pointer",children:"Upload File"}),r.jsx("input",{type:"button",onClick:()=>{b(!0)},id:"pdf-view"}),r.jsx("label",{htmlFor:"pdf-view",className:"ml-1 px-3 py-1 bg-yellow-600 text-white rounded cursor-pointer",children:"View File"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-500 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Simpan"}),r.jsx("button",{type:"button",onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})]}),u&&r.jsx(A.Z,{file:n.fileDoc,fileLink:n.fileLink||"",onClose:()=>b(!1)})]})},_=({onNext:e,onPrevious:a,rekrutmenId:t})=>{let[l,n]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[m,u]=(0,s.useState)(0),[b,h]=(0,s.useState)(!1),[g,p]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),k=e=>{o(!0),u(e)},v=e=>{p(!0),j(e)},T=e=>{h(!0),u(e)},E=async()=>{e(t)},D=async()=>{a(t)};(0,s.useEffect)(()=>{t>0&&I()},[]);let I=async()=>{try{let e=(await d.Z.getListDataRiwayatPekerjaanId(t)).data.map(e=>new N(e.id,e.employeeId,e.perusahaan,e.tanggal,e.tanggalSelesai,e.status,e.kapal,e.gtKapal,e.jabatan,e.alasanOff,e.keterangan,e.currency,e.gajiTerakhir,e.createdBy,e.createdTime,e.modifiedBy,e.modifiedTime,e.rekrutmenId,e.fileName,e.filePath,e.fileLink));n(e),console.log(e)}catch(e){console.error("Error fetching data:",e)}},S=e=>{"SAVE"===e?(o(!1),x.A.success("Riwayat Pekerjaan berhasil tersimpan")):(h(!1),x.A.error("Riwayat Pekerjaan berhasil terhapus")),I()};return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"p-4  bg-gray-100 flex flex-col overflow-x-auto max-h-screen",children:r.jsx("div",{className:"flex-1 bg-white mb-2 p-6 rounded-lg shadow-md overflow-y-auto max-w-screen-xl",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-300 ",children:[r.jsx("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-2 border text-center",children:r.jsx("button",{onClick:()=>k(0),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah Riwayat"})}),r.jsx("th",{className:"px-4 py-2 border",children:"Perusahaan"}),r.jsx("th",{className:"px-4 py-2 border",children:"Kapal"}),r.jsx("th",{className:"px-4 py-2 border",children:"GT Kapal"}),r.jsx("th",{className:"px-4 py-2 border",children:"Jabatan"}),r.jsx("th",{className:"px-4 py-2 border",children:"Alasan Off"}),r.jsx("th",{className:"px-4 py-2 border",children:"Tanggal"}),r.jsx("th",{className:"px-4 py-2 border",children:"Tanggal Selesai"}),r.jsx("th",{className:"px-4 py-2 border",children:"Currency"}),r.jsx("th",{className:"px-4 py-2 border",children:"Gaji Terakhir"})]})}),r.jsx("tbody",{children:l.map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-3 py-2 border",children:[r.jsx("button",{onClick:()=>k(e.id),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:r.jsx(y.JIY,{size:20})}),r.jsx("button",{onClick:()=>T(e.id),className:" rounded-sm p-1 border border-red-500 hover:bg-red-600 ml-2",children:r.jsx(y.L_o,{size:20})}),r.jsx("button",{onClick:()=>v(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:r.jsx(y.U3C,{size:20})})]}),r.jsx("td",{className:"px-4 py-2 border",children:e.perusahaan}),r.jsx("td",{className:"px-4 py-2 border",children:e.kapal}),r.jsx("td",{className:"px-4 py-2 border",children:e.gtKapal}),r.jsx("td",{className:"px-4 py-2 border",children:e.jabatan}),r.jsx("td",{className:"px-4 py-2 border",children:e.alasanOff}),r.jsx("td",{className:"px-4 py-2 border",children:e.tanggal?(0,c.p6)(e.tanggal.toString()):""}),r.jsx("td",{className:"px-4 py-2 border",children:e.tanggalSelesai?(0,c.p6)(e.tanggalSelesai.toString()):""}),r.jsx("td",{className:"px-4 py-2 border",children:e.currency}),r.jsx("td",{className:"px-4 py-2 border",children:e.gajiTerakhir})]},a))})]})})}),(0,r.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:[r.jsx("button",{onClick:D,type:"submit",className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full shadow-lg",children:"Kembali"}),r.jsx("button",{onClick:E,type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Simpan & Lanjutkan"})]}),i&&r.jsx(C,{relasiId:t,id:m,onClose:()=>o(!1),onSubmit:()=>S("SAVE")}),b&&r.jsx(w,{modelType:"RIWAYAT PEKERJAAN",id:m,onClose:()=>h(!1),onSubmit:()=>S("DELETE")}),g&&r.jsx(A.Z,{file:null,fileLink:f||"",onClose:()=>p(!1)})]})},P=({relasiId:e,id:a,onClose:t,onSubmit:l})=>{let[n,i]=(0,s.useState)(new j.Z),[u,b]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),[p,y]=(0,s.useState)({}),[f,N]=(0,s.useState)(!1),[k,w]=(0,s.useState)(!1),[v,T]=(0,s.useState)(!1),[E,D]=(0,s.useState)(!1),[I,S]=(0,s.useState)(!1),[C,_]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a>0&&0===n.id?P(a):n.rekrutmenId=e},[a,n,e]);let P=async e=>{try{let a=await d.Z.getDataByIdNonAuth(e,c.a9.API_REKRUTMEN_GET_OPTIONAL_FILE_ID_NON_AUTH);i(a)}catch(e){x.A.error("Gagal Fetching Data"),console.error("Error fetching data:",e)}},K=e=>{let{name:a,value:t,files:r}=e.target;i(e=>{if("fileDoc"!==a||!r)return{...e,[a]:t};{let t=r[0];return t.size>512e3?(y(e=>({...e,file:"Ukuran file maksimal adalah 500KB"})),e):(y(e=>({...e,foto:void 0})),{...e,[a]:t,fileName:t.name})}})},R=(e,a)=>{"documentDate"===e?i({...n,documentDate:a}):"documentValidDate"===e&&i({...n,documentValidDate:a})},F=async a=>{if(a.preventDefault(),a.currentTarget.checkValidity()){n.id>0?(n.aktif=!0,n.mode="EDIT"):(n.rekrutmenId=e,n.modifiedDate=void 0,n.mode="CREATE"),n.crewingId=n.crewingId?n.crewingId:void 0,n.documentName=n.fileCategory,n.documentValidDate="MCU"===n.fileCategory?n.documentValidDate:void 0;try{let e=await d.Z.postNonAuth(n,c.a9.API_REKRUTMEN_SAVE_OPTIONAL_FILE_NON_AUTH);if("OK"===e.data.status&&n.rekrutmenId){if(!n.fileDoc)return;let a=new FormData;a.append("file",n.fileDoc),a.append("optId",e.data.returnId),a.append("relasiId",n.rekrutmenId.toString()),a.append("menuForm","REKRUTMEN");let t=await d.Z.postDocNonAuth(a,c.a9.API_REKRUTMEN_SAVE_OPTIONAL_FILE_DOC_NON_AUTH);if("OK"===t.data.status)l();else throw Error("Failed to save data")}else x.A.error("FilePendukung berhasil tersimpan")}catch(e){console.error("Error saving data:",h),x.A.error("Error saving data:")}}};return(0,r.jsxs)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:r.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),r.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-2",children:"File Pendukung"}),(0,r.jsxs)("form",{onSubmit:F,children:[r.jsx("div",{className:"mb-2",children:r.jsx(o,{elementId:"fileCategory",labelValue:"Tipe Dokumen",constantApi:c.a9.MASTER_TYPE_OPTIONAL_DOC,required:!0,defaultValue:n.fileCategory||"",onSelect:e=>{i({...n,fileCategory:e,documentName:e,documentValidDate:"MCU"===e?n.documentValidDate:void 0}),"MCU"===e?N(!0):N(!1),n.documentValidDate="MCU"===n.fileCategory?n.documentValidDate:void 0}})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Tgl. Pembuatan"]}),r.jsx("div",{children:r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-end",showYearDropdown:!0,dropdownMode:"select",selected:n.documentDate,onChange:e=>{R("documentDate",e)},dateFormat:"dd/MM/yyyy",name:"documentDate",required:!0})})]}),f&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Tgl. Valid Dokumen"]}),r.jsx("div",{children:r.jsx(m.ZP,{className:" bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",popperPlacement:"top-start",showYearDropdown:!0,dropdownMode:"select",selected:n.documentValidDate,onChange:e=>{R("documentValidDate",e)},dateFormat:"dd/MM/yyyy",name:"documentValidDate",required:!0})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("label",{children:[r.jsx("sup",{children:"* "}),"Upload File"]}),r.jsx("input",{type:"text",name:"fileName",value:n.fileName,onChange:K,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5",readOnly:!0,placeholder:"Upload file dengan klik button upload"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("input",{type:"file",accept:"application/pdf",onChange:K,className:"hidden",id:"pdf-upload",name:"fileDoc"}),r.jsx("label",{htmlFor:"pdf-upload",className:"mr-1 px-3 py-1 bg-green-700 text-white rounded cursor-pointer",children:"Upload PDF"}),r.jsx("input",{type:"button",onClick:()=>{b(!0)},id:"pdf-view"}),r.jsx("label",{htmlFor:"pdf-view",className:"ml-1 px-3 py-1 bg-yellow-600 text-white rounded cursor-pointer",children:"View File"})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("label",{children:"Keterangan"}),r.jsx("input",{type:"text",name:"keterangan",value:n.keterangan,onChange:K,className:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-0.5"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-700 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Simpan"}),r.jsx("button",{type:"button",onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Batal"})]})]})]})})]}),u&&r.jsx(A.Z,{file:n.fileDoc,fileLink:n.fileLink||"",onClose:()=>b(!1)})]})};var K=t(5047);let R=({onNext:e,onPrevious:a,rekrutmenId:t})=>{let n=(0,K.useRouter)(),[i,o]=(0,s.useState)([]),[m,u]=(0,s.useState)(new l.Z),[b,g]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[N,k]=(0,s.useState)(0),[v,T]=(0,s.useState)(!1),[E,D]=(0,s.useState)(null),I=e=>{g(!0),k(e)},S=e=>{T(!0),D(e)},C=e=>{f(!0),k(e)},_=async()=>{try{let e=(0,c.Cf)(t);if((await e).isSuccess){let e=await d.Z.getDataIdNonAuth(t,c.a9.API_REKRUTMEN_GET_NON_AUTH);if(e.data){let a={...e.data,isCompletedData:!0};u(a),(await d.Z.postNonAuth(m,c.a9.API_REKRUTMEN_SAVE_NON_AUTH)).status?h().fire({icon:"success",title:"Berhasil menyimpan data",confirmButtonText:"Selesai",text:"Terima kasih, Kami akan segera memproses lamaran sudara dan memberikan informasi lebih lanjut.<br> Klik Selesai untuk menyelesaikan pendaftaran."}).then(e=>{e.isConfirmed&&n.push("/onboardchecking")}):h().fire({icon:"error",title:"Submit Gagal",text:"Gagal menyimpan data"})}}else h().fire({icon:"error",title:"Submit Gagal",html:(await e).message})}catch(e){h().fire({icon:"error",title:"Submit Gagal",text:"Data tidak valid"}),console.error("Error saving data:",e)}},R=async()=>{a(t)};(0,s.useEffect)(()=>{t>0&&F(),m.isCompletedData&&(async()=>{await d.Z.postNonAuth(m,c.a9.API_REKRUTMEN_SAVE_NON_AUTH)})()},[m]);let F=async()=>{try{let e=(await d.Z.getListDataFilePendukungId(t,c.a9.API_REKRUTMEN_LIST_OPTIONAL_FILE_ID_NON_AUTH,"REKRUTMEN")).data.map(e=>new j.Z(e.id,e.crewingId,e.rekrutmenId,e.fileCategory,e.fileName,e.documentName,e.documentDate,e.documentValidDate,e.keterangan,e.filePath,e.fileLink,e.aktif,e.createdBy,e.createdDate,e.modifiedBy,e.modifiedDate));o(e)}catch(e){console.error("Error fetching data File Pendukung:",e)}},U=e=>{"SAVE"===e?(g(!1),x.A.success("FilePendukung berhasil tersimpan")):(f(!1),x.A.success("FilePendukung berhasil terhapus")),F()};return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"p-4 max-h-screen bg-gray-100 flex flex-col overflow-x-auto",children:(0,r.jsxs)("div",{className:"flex-1 bg-white mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:[r.jsx("div",{className:" bg-gray-300 mb-2 p-6 rounded-lg shadow-md  overflow-y-auto max-w-screen-xl",children:r.jsx("p",{children:"Anda diwajibkan untuk upload Dokumen Medical Check Up ( MCU ) - (format .PDF)"})}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[r.jsx("thead",{className:"text-sm text-gray-700 uppercase bg-yellow-500 rounded-lg",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-2 border text-center",children:r.jsx("button",{onClick:()=>I(0),className:" bottom-4 right-4 px-4 py-2  bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Tambah File Pendukung"})}),r.jsx("th",{className:"px-4 py-2 border",children:"File Category"}),r.jsx("th",{className:"px-4 py-2 border",children:"Tgl. Dokumen"}),r.jsx("th",{className:"px-4 py-2 border",children:"Tgl. Valid Dokumen"}),r.jsx("th",{className:"px-4 py-2 border",children:"Keterangan"})]})}),r.jsx("tbody",{children:i.map((e,a)=>(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsxs)("td",{className:"px-4 py-2 border",children:[r.jsx("button",{onClick:()=>I(e.id),className:" hover:bg-blue-600 border border-blue-500 rounded-sm p-1 ml-2",children:r.jsx(y.JIY,{size:20})}),r.jsx("button",{onClick:()=>C(e.id),className:" rounded-sm p-1 border border-red-500 hover:bg-red-600 ml-2",children:r.jsx(y.L_o,{size:20})}),r.jsx("button",{onClick:()=>S(e.fileLink||""),className:"rounded-sm border border-yellow-500 p-1 hover:bg-yellow-600 ml-2",children:r.jsx(y.U3C,{size:20})})]}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.documentName}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.documentDate?(0,c.p6)(e.documentDate.toString()):""}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.documentValidDate&&null!==e.documentValidDate?(0,c.p6)(e.documentValidDate.toString()):""}),r.jsx("td",{className:"px-4 py-2 text-sm border",children:e.keterangan})]},a))})]})]})}),(0,r.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-end right-4 mb-2 p-3 rounded-lg shadow-md space-x-2",children:[r.jsx("button",{onClick:R,type:"submit",className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-full shadow-lg",children:"Kembali"}),r.jsx("button",{onClick:_,type:"submit",className:"px-4 py-2 bg-green-800 hover:bg-green-500 text-white rounded-full shadow-lg",children:"Submit Data"})]}),b&&r.jsx(P,{relasiId:t,id:N,onClose:()=>g(!1),onSubmit:()=>U("SAVE")}),p&&r.jsx(w,{modelType:"FILE PENDUKUNG",id:N,onClose:()=>f(!1),onSubmit:()=>U("DELETE")}),v&&r.jsx(A.Z,{file:null,fileLink:E||"",onClose:()=>T(!1)})]})},F=({id:e})=>{let[a,t]=(0,s.useState)(0),[l,n]=(0,s.useState)(e),[d,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(!0),m=e=>{n(e),t(e=>e+1),1===a?c(!0):c(!1)},u=r=>{n(r),t(e=>e-1),1===a?(e=r,c(!0)):c(!1)};return(0,r.jsxs)("div",{className:"w-full flex flex-col md:items-center mt-2",children:[(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg flex flex-wrap justify-center md:flex-nowrap",children:[r.jsx("button",{onClick:()=>{t(0),c(!0)},className:`py-2 px-4 ${0===a?"text-white bg-green-800":"text-green-800 hover:bg-green-300"} rounded-lg mx-1 my-1 ${0===a?"border-b-2 border-green-800":""}`,children:"Data Diri"}),r.jsx("button",{onClick:()=>{t(1),c(!1)},className:`py-2 px-4 ${1===a?"text-white bg-green-800":"text-green-800 hover:bg-green-300"} rounded-lg mx-1 my-1 ${1===a?"border-b-2 border-green-800":""}`,disabled:o,children:"Pendidikan"}),r.jsx("button",{onClick:()=>{t(2),c(!1)},className:`py-2 px-4 ${2===a?"text-white bg-green-800":"text-green-800 hover:bg-green-300"} rounded-lg mx-1 my-1 ${2===a?"border-b-2 border-green-800":""}`,disabled:o,children:"Sertifikasi"}),r.jsx("button",{onClick:()=>{t(3),c(!1)},className:`py-2 px-4 ${3===a?"text-white bg-green-800":"text-green-800 hover:bg-green-300"} rounded-lg mx-1 my-1 ${3===a?"border-b-2 border-green-800":""}`,disabled:o,children:"Riwayat Pekerjaan"}),r.jsx("button",{onClick:()=>{t(4),c(!1)},className:`py-2 px-4 ${4===a?"text-white bg-green-800":"text-green-800 hover:bg-green-300"} rounded-lg mx-1 my-1 ${4===a?"border-b-2 border-green-800":""}`,disabled:o,children:"File Pendukung"})]}),(0,r.jsxs)("div",{children:[0===a&&r.jsx(g,{onNext:m,rekrutmenId:0===e?l:e}),1===a&&r.jsx(r.Fragment,{children:r.jsx(v,{onNext:m,onPrevious:u,rekrutmenId:l})}),2===a&&r.jsx(r.Fragment,{children:r.jsx(I,{onNext:m,onPrevious:u,rekrutmenId:l})}),3===a&&r.jsx(r.Fragment,{children:r.jsx(_,{onNext:m,onPrevious:u,rekrutmenId:l})}),4===a&&r.jsx(r.Fragment,{children:r.jsx(R,{onNext:m,onPrevious:u,rekrutmenId:l})})]})]})}},4587:(e,a,t)=>{t.d(a,{Z:()=>d});var r=t(326),s=t(7561),l=t(2576),n=t(7577);let d=({file:e,fileLink:a,onClose:t})=>{let[d,i]=(0,n.useState)(new l.Z),[o,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(e){let a=URL.createObjectURL(e);return c(a),()=>URL.revokeObjectURL(a)}{let e=(0,s.Z)();return(async()=>{try{if(!a)return;a=a.replaceAll("\\","/");let t=e?.substring(0,e.length-1)+a;c(t)}catch(e){console.error("Failed to create object URL:",e)}})(),()=>{o&&(console.log("Fetching PDF"),URL.revokeObjectURL(o))}}},[]),r.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:(0,r.jsxs)("div",{className:"bg-white p-4 rounded shadow-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold",children:"PDF Preview"}),r.jsx("button",{onClick:t,className:"text-red-500",children:"Close"})]}),o&&r.jsx("iframe",{src:o,width:"600",height:"400",className:"mt-4"})]})})}}};